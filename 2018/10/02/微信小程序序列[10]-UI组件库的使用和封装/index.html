<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 微信小程序基础[10]-UI组件库的使用和封装 · 花田半亩</title><meta name="description" content="微信小程序基础[10]-UI组件库的使用和封装 - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="花田半亩" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/%E9%B2%B8%E9%B1%BC.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="https://github.com/flowerField" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">微信小程序基础[10]-UI组件库的使用和封装</h1><div class="post-info">Oct 2, 2018<span class="post-count"></span> ✧ 字数统计:2k(字) &nbsp;&nbsp; ♨︎ 阅读时长:8(分钟)</div><div class="post-content"><blockquote>
<p>本文介绍微信小程序开发中常用的第三方UI组件库的基本使用流程和如何自定义组件。</p>
</blockquote>
<h3 id="1-0-第三方UI组件库的基本使用流程"><a href="#1-0-第三方UI组件库的基本使用流程" class="headerlink" title="1.0 第三方UI组件库的基本使用流程"></a>1.0 第三方UI组件库的基本使用流程</h3><p>在<a target="_blank" rel="noopener" href="http://wendingding.com/2018/09/24/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%B3%BB%E5%88%97[05]-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B601">小程序框架基础组件</a>这篇文章的末尾简单列出了小程序开发中常用的一些第三方UI组件库，包括iview和Weui等,这里讲简单说明这些第三方UI组件库的基本使用流程。</p>
<p>通常，在使用第三方组件库之前首先需要通过<code>代码的托管仓库</code>和<code>组件库文档</code>来了解该组件库都提供哪些自定义的组件这是组件和当前项目是否匹配等信息(<code>很多的第三方组件库都提供了专门的演示小程序可以安装和体验</code>)，确定之后就只需在项目中应用了。</p>
<p><strong>第三方组件库的基本使用流程</strong></p>
<blockquote>
<p>❏ 在github下载完整的仓库代码。<br>❏ 把仓库代码中存放自定义组件的文件夹拷贝到项目中(<code>dist目录</code>)。<br>❏ 在项目中需要使用到的页面的json文件中对第三方组件进行配置。<br>❏ 在项目中需要使用到的页面的wxml文件中直接使用，同原生组件一致。<br>❏ 参考组件库文档来对自定义的组件传递参数(通常是以属性赋值的方式进行)。</p>
</blockquote>
<p><strong><code>ex:使用iview-weapp组件库中的i-cell组件</code></strong></p>
<p><strong><code>001</code></strong> 在github中找到组件库的<a target="_blank" rel="noopener" href="https://github.com/TalkingData/iview-weapp">仓库托管地址</a>并点击clone OR Download下载。</p>
<p><strong><code>002</code></strong> 下载后将仓库中的dist目录拷贝到自己的项目中，这里可以在根目录下新建components文件夹专门用来存放需要用到的所有组件，因为项目中可能用到多个UI组件库，所以把dist改名为iview目录。</p>
<p><strong><code>003</code></strong> 因为在项目中的<strong>mine/index.wxml</strong>文件中需要使用到iview组件库中的<span style='color:#f05'>i-cell</span>、<span style='color:#f05'>i-panel</span>以及<span style='color:#f05'>i-cell-group</span>组件所以需要先在<strong>mine/index.json</strong>文件中进行配置，配置项如下。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;i-cell&quot;</span>: <span class="string">&quot;../../components/ivew/cell/index&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;i-panel&quot;</span>:<span class="string">&quot;../../components/ivew/panel/index&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;i-cell-group&quot;</span>:<span class="string">&quot;../../components/ivew/cell-group/index&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><code>004</code></strong> 在项目中的<strong>mine/index.wxml</strong>文件中直接使用这些组件来实现特定效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i-panel</span> <span class="attr">title</span>=<span class="string">&quot; &quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">i-cell-group</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i-cell</span>  <span class="attr">title</span>=<span class="string">&quot;心意卡&quot;</span> <span class="attr">is-link</span> &gt;</span><span class="tag">&lt;/<span class="name">i-cell</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i-cell</span>  <span class="attr">title</span>=<span class="string">&quot;优惠券&quot;</span> <span class="attr">is-link</span> &gt;</span><span class="tag">&lt;/<span class="name">i-cell</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">i-cell-group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">i-panel</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">i-panel</span> <span class="attr">title</span>=<span class="string">&quot; &quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">i-cell-group</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">i-cell</span>  <span class="attr">title</span>=<span class="string">&quot;我的地址&quot;</span> <span class="attr">is-link</span> <span class="attr">url</span>=<span class="string">&quot;/pages/address/index&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i-cell</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">i-cell</span>  <span class="attr">title</span>=<span class="string">&quot;我的尺寸&quot;</span> <span class="attr">is-link</span> &gt;</span><span class="tag">&lt;/<span class="name">i-cell</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">i-cell-group</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">i-panel</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>如果需要对UI组件的样式进行调整那么可以选择直接到components/iview中对既定的样式进行修改，更好的方法是<span style='color:#195'>给用到的组件添加新的class,并在对应的wxss文件中进行设置</span>。</p>
<h3 id="2-0-自定义组件的封装"><a href="#2-0-自定义组件的封装" class="headerlink" title="2.0 自定义组件的封装"></a>2.0 自定义组件的封装</h3><p>在小程序的开发中如果某些代码需要到多个地方用到(往往是视图结构相同而具体填充的数据不同)，那么可以考虑把这些代码抽取成模板或者是封装成自定义的组件，在<a target="_blank" rel="noopener" href="http://wendingding.com/2018/09/27/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%B3%BB%E5%88%97[08]-%E6%A8%A1%E6%9D%BF%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E5%92%8C%E5%BC%95%E5%85%A5">模板的基本使用和引入</a>这篇文章中已经介绍了模板的基本用法，这里重点说明把代码封装成自定义组件的基本流程。</p>
<p><strong>自定义组件和使用的基本流程</strong></p>
<blockquote>
<p>❏ 在微信提供的官方开发工具中代码目录中新建<code>Component文件</code>。<br>❏ 在自动生成的四个文件中编写组件内容、组件样式、组件逻辑控制相关的代码。<br>❏ 在项目中需要使用到自定义组件的页面的.json文件中进行配置，设置组件的名称和路径。<br>❏ 在项目中需要使用到自定义组件的页面的.wxml文件中直接像系统组件那样使用和传参即可。</p>
</blockquote>
<p><strong><code>ex:自定义组件i-address的封装和使用</code></strong></p>
<p>这里先给出自定义组件使用的效果图。</p>
<img src='../../../../src/wx21.png'>

<p><strong><code>001</code></strong> 在项目的根目录中创建components文件夹，该目录用于存放项目中用到的所有组件。<br><strong><code>002</code></strong> 在components目录下创建addressComponent文件夹，新建<code>Component文件</code>命名为addressview，这样会在该目录下面生成四个文件，后缀分别是.wxml(控制内容)、.wxss(控制样式)、.json(控制配置，表明自己是自定义组件)和.js(控制初始化数据、属性列表和添加在组件身上的方法)。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wendingding$ tree</span><br><span class="line">.</span><br><span class="line">└── components</span><br><span class="line">    └── addressComponent</span><br><span class="line">        ├── addressview.js</span><br><span class="line">        ├── addressview.json</span><br><span class="line">        ├── addressview.wxml</span><br><span class="line">        └── addressview.wxss</span><br></pre></td></tr></table></figure>
<p><strong><code>003</code></strong> 编写addressview.wxml文件，控制组件的结构。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;address&#x27;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;address-top&#x27;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&#x27;address-top-name&#x27;</span>&gt;</span>&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&#x27;delClick&#x27;</span> <span class="attr">class</span>=<span class="string">&#x27;address-top-del&#x27;</span> <span class="attr">plain</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&#x27;address-top-edit&#x27;</span>&gt;</span>编辑<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&#x27;address-bottom&#x27;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&#x27;address-bottom-phone&#x27;</span>&gt;</span>电话号码：&#123;&#123; phoneText &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&#x27;address-bottom-detail&#x27;</span>&gt;</span>联系地址：&#123;&#123; detailText &#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong><code>004</code></strong> 编写addressview.wxss文件，控制组件的样式。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.address</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">240</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.address-top</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100</span>rpx;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">100</span>rpx;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1</span>rpx solid <span class="number">#eee</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.address-bottom</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">140</span>rpx;</span><br><span class="line">  <span class="comment">/* background: yellowgreen */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.address-top-name</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">30</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.address-top-del</span>,<span class="selector-class">.address-top-edit</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">130</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60</span>rpx;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">60</span>rpx;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20</span>rpx;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">20</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.address-top-edit</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#333</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.address-top-del</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">180</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.address-bottom-phone</span>,<span class="selector-class">.address-bottom-detail</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#666</span>;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">70</span>rpx;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">70</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong><code>005</code></strong> 编写addressview.js文件的代码，控制组件的属性、初始化数据以及方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">Component(&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 组件的属性列表</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">properties</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>:&#123;</span><br><span class="line">      <span class="attr">type</span>:<span class="built_in">String</span>,</span><br><span class="line">      <span class="attr">value</span>:<span class="string">&quot;默认的收件人&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">phoneText</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="built_in">String</span>,</span><br><span class="line">      <span class="attr">value</span>: <span class="string">&quot;88888888888888&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">detailText</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="built_in">String</span>,</span><br><span class="line">      <span class="attr">value</span>: <span class="string">&quot;北京市天安门城楼&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 组件的初始数据</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 组件的方法列表</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="attr">delClick</span>:<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">      <span class="comment">//....</span></span><br><span class="line">      <span class="comment">//删除按钮的事件处理函数</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong><code>006</code></strong> 在项目的address页面中需要用到这个自定义组件，那么就先在对应的json文件中进行配置，主要是设置自定义组件的名称和对应的路径，这里给出address/index.json文件内容示例。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;usingComponents&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;i-address&quot;</span>: <span class="string">&quot;../../components/addressComponents/addressview&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><code>007</code></strong> 在页面对应的wxml文件中直接使用自定义组件，这里给出address/index.wxml文件内容示例。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">i-address</span> <span class="attr">wx:key</span>=<span class="string">&#x27;index&#x27;</span> <span class="attr">wx:for</span>=<span class="string">&#x27;&#123;&#123; arrayData &#125;&#125;&#x27;</span><span class="attr">name</span>=<span class="string">&#x27;&#123;&#123; item.name &#125;&#125;&#x27;</span> <span class="attr">phoneText</span>=<span class="string">&#x27;&#123;&#123; item.phoneText &#125;&#125;&#x27;</span> <span class="attr">detailText</span>=<span class="string">&#x27;&#123;&#123; item.detailText &#125;&#125;&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">i-address</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong><code>008</code></strong> 自定义组件需要接收数据，通过编写对应的js文件设置，这里给出address/index.js文件内容示例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/address/index.js</span></span><br><span class="line">Page(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">arrayData</span>:[</span><br><span class="line">                    &#123;</span><br><span class="line">                      <span class="attr">name</span>: <span class="string">&quot;小猪猪猪&quot;</span>,</span><br><span class="line">                      <span class="attr">phoneText</span>: <span class="string">&quot;123445455846&quot;</span>,</span><br><span class="line">                      <span class="attr">detailText</span>: <span class="string">&quot;广州市天河区体育中心南路水电费&quot;</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                      <span class="attr">name</span>: <span class="string">&quot;熊大和赵琳&quot;</span>,</span><br><span class="line">                      <span class="attr">phoneText</span>: <span class="string">&quot;154546556465466&quot;</span>,</span><br><span class="line">                      <span class="attr">detailText</span>: <span class="string">&quot;广州市天河区体育中心南路水电费&quot;</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                    &#123;</span><br><span class="line">                      <span class="attr">name</span>: <span class="string">&quot;花仙子&quot;</span>,</span><br><span class="line">                      <span class="attr">phoneText</span>: <span class="string">&quot;154546556465466&quot;</span>,</span><br><span class="line">                      <span class="attr">detailText</span>: <span class="string">&quot;广州市天河区体育中心西路&quot;</span>,</span><br><span class="line">                    &#125;</span><br><span class="line">             ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<img src='../../../../z.png' width="200px">

<hr>
<ul>
<li>Posted by 博客园·<a target="_blank" rel="noopener" href="http://www.cnblogs.com/wendingding/">文顶顶</a> | <a target="_blank" rel="noopener" href="http://wendingding.com/">花田半亩</a></li>
<li>联系作者 简书·<a target="_blank" rel="noopener" href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&mod=TAB#place">Coder_文顶顶</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a target="_blank" rel="noopener" href="http://www.cnblogs.com/wendingding/">文顶顶</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2018/10/07/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BA%8F%E5%88%97%5B11%5D-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6(%E4%B8%89)/" class="prev">上一篇</a><a href="/2018/09/27/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BA%8F%E5%88%97%5B09%5D-%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%AD%E7%9A%84%E5%9F%BA%E7%A1%80%E7%BB%84%E4%BB%B6(%E4%BA%8C)/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2022 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计 418.8k (字)</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>