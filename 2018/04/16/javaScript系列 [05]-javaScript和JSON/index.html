<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> javaScript系列 [05]-javaScript和JSON · 花田半亩</title><meta name="description" content="javaScript系列 [05]-javaScript和JSON - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="花田半亩" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="https://github.com/flowerField" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">javaScript系列 [05]-javaScript和JSON</h1><div class="post-info">Apr 16, 2018<span class="post-count"></span> ✧ 字数统计:3.4k(字) &nbsp;&nbsp; ♨︎ 阅读时长:13(分钟)</div><div class="post-content"><blockquote>
<p>本文输出和JSON有关的以下内容<br>❐  JSON和javaScript<br>❐  JSON的语法介绍<br>❐  JSON的数据类型<br>❐  JSON和XMLHTTPRequest<br>❐  JSON的序列化和反序列化处理</p>
</blockquote>
<h3 id="1-1-JSON和javaScript"><a href="#1-1-JSON和javaScript" class="headerlink" title="1.1 JSON和javaScript"></a>1.1 JSON和javaScript</h3><p><span style='color:red'>JSON是一种数据交换格式。</span></p>
<p>JSON的全称是JavaScript Object Notation，翻译为JavaScript对象表示法。JSON的这个全称，无疑让很多人既兴奋又困惑，兴奋的人直接认为这就是JavaScript中的对象，困惑的人觉察出JSON数据和JavaScript对象好像有些不一样。接下来我们先谈一谈JSON数据和JavaScript的关系。</p>
<p>诚然，从JSON的全称可以看出JSON和JavaScript语言必定有种某种神秘关联，至少能够确定的是JSON的命名确实来源于JavaScript这门语言。</p>
<p>JSON基于JavaScript对象字面量，但JSON本身是一种数据交换格式，因此它是独立于语言的。JSON全称为JavaScript对象表示法，在理解的时候可以认为<span style="color:red">JSON ==&gt; JavaScript &amp;&amp; 对象 &amp;&amp; 表示法</span></p>
<p>JavaScript我们知道是一门动态脚本语言，那么<code>对象表示法</code>是什么？</p>
<p>对象是面向对象编程语言中一种常见的数据类型，表示键值对的集合，那么<code>表示法</code>是什么？</p>
<p><strong>表示法</strong>:是指一个可以表示诸如数字或单词等数据的字符系统。</p>
<p>JSON起源于JavaScript（灵感来源于JavaScript的对象语法），但真正重要的是具体的表示法本身。JSON不仅独立于语言，而且使用了一种在许多编程语言中能够找到共同元素的表达方式。基于这种简洁的表达方式，JSON迅速成为一种流行的数据交换格式。目前，客户端和服务器端在进行数据通信的时候，常见的数据格式就是JSON和XML。</p>
<h3 id="1-2-JSON的语法介绍"><a href="#1-2-JSON的语法介绍" class="headerlink" title="1.2 JSON的语法介绍"></a>1.2 JSON的语法介绍</h3><h4 id="1-2-1-JSON的语法"><a href="#1-2-1-JSON的语法" class="headerlink" title="1.2.1 JSON的语法"></a>1.2.1 JSON的语法</h4><p> JSON因为基于JavaScript的字面量，所以我们先来看下JavaScript字面量的样子，下面给出简单的代码示例，描述了一个书对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span>  book = &#123;</span><br><span class="line">      <span class="attr">name</span>:<span class="string">&quot;声名狼藉者的生活&quot;</span>,</span><br><span class="line">      <span class="attr">price</span>:<span class="number">42.00</span>,</span><br><span class="line">      <span class="attr">author</span>:<span class="string">&quot;福柯&quot;</span>,</span><br><span class="line">      <span class="attr">press</span>:<span class="string">&quot;北京大学出版社&quot;</span>,</span><br><span class="line">      <span class="attr">read</span>:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(<span class="string">&quot;我的书名为:声名狼藉者的的生活,作者为福柯....&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>

<p>顺便贴出一个简短的JSON数据</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>:<span class="string">&quot;声名狼藉者的生活&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;price&quot;</span>:<span class="number">42.00</span>,</span><br><span class="line">      <span class="attr">&quot;author&quot;</span>:<span class="string">&quot;福柯&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;press&quot;</span>:<span class="string">&quot;北京大学出版社&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;content&quot;</span>:[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="number">123</span>]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p> 我们可以对比下上面的JavaScript对象和JSON数据，会发现它们的结构和语法形式很像，都是键值对的集合，接下来我们做更详细的说明。JSON数据在表达上和对象保持一致，但因为数据交换格式的核心是数据，所以<code>JSON并不会保存函数等信息</code>。JSON数据所基于的JavaScript对象字面量单纯指对象字面量以及其属性的语法表示。</p>
<p><strong>JSON的主要语法特点</strong></p>
<blockquote>
<p>① 以键值对的方式来保存数据<br>② 标准的JSON数据的key必须要使用双引号包裹<br>③ { } 用于表示和存放对象，[ ] 用于表示和存放数组数据</p>
</blockquote>
<p>JSON数据的读取，在读取JSON的时候</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123; 表示开始读取对象，&#125; 表示对象读取结束</span><br><span class="line">[ 表示开始读取数组，] 表示数组读取结束</span><br><span class="line">：用于分隔键值对中的key和value</span><br><span class="line">, 用于分隔对象中的多个键值对或者是数组中的多个元素</span><br></pre></td></tr></table></figure>

<div class='tip'>
JavaScript对象字面量中的key可以使用单引号，可以使用双引号，可以不必加上引号包裹，但是在JSON中，所有的key必须要加上双引号。
<div>

<h4 id="1-2-2-JSON的验证和格式化工具"><a href="#1-2-2-JSON的验证和格式化工具" class="headerlink" title="1.2.2 JSON的验证和格式化工具"></a>1.2.2 JSON的验证和格式化工具</h4><p>下面列出一些能够对JSON数据进行校验和格式化的在线地址<br><a target="_blank" rel="noopener" href="https://jsonlint.com/">https://jsonlint.com/</a><br><a target="_blank" rel="noopener" href="http://tool.oschina.net/codeformat/json">http://tool.oschina.net/codeformat/json</a><br><a target="_blank" rel="noopener" href="https://jsonformatter.curiousconcept.com/">https://jsonformatter.curiousconcept.com/</a></p>
<h4 id="1-2-3-JSON文件和MIME类型"><a href="#1-2-3-JSON文件和MIME类型" class="headerlink" title="1.2.3 JSON文件和MIME类型"></a>1.2.3 JSON文件和MIME类型</h4><p>在开发中我们经常需要处理大量的JSON数据，JSON这种数据交换格式可以作为独立的文件存在于文件系统中，文件扩展名为    <code>.json</code></p>
<p>JSON的MIME类型是<code>application/json</code>, 详细信息请参考<a target="_blank" rel="noopener" href="https://www.iana.org/assignments/media-types/media-types.xhtml">IANA官网维护的所有媒体类型列表</a>。</p>
<h3 id="1-3-JSON的数据类型"><a href="#1-3-JSON的数据类型" class="headerlink" title="1.3 JSON的数据类型"></a>1.3 JSON的数据类型</h3><p>JSON中（作为value值）的数据类型包括<code>对象、字符串、数字、布尔值、null和数组六种</code>。</p>
<p><code>① 字符串</code><br>JSON中的字符串可以由任何的Unicode字符构成，字符串的两边必须被双引号包裹。需要注意的是：<span style='color:#195'>虽然在JavaScript语言中字符串可以使用单引号来包裹，但是在JSON中的字符串必须使用双引号包裹。</p>
<p>如果字符串中存在以下特殊字符，那么需要在它们的前面加上一个反斜线（\）来进行转义。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">- &quot;  双引号</span><br><span class="line">- \  反斜线</span><br><span class="line">- \/ 正斜线</span><br><span class="line">- \b 退格符</span><br><span class="line">- \f 换页符</span><br><span class="line">- \t 制表符</span><br><span class="line">- \n 换行符</span><br><span class="line">- \r 回车符</span><br><span class="line">- \u 后面跟16进制字符</span><br></pre></td></tr></table></figure>

<p><code>② 数字</code><br>JSON中的数字可以是整数、小数、负数或者是指数。</p>
<p><code>③ 布尔类型</code><br>JSON数据仅仅支持小写形式的布尔类型值：true 和 false。</p>
<p><code>④ null类型</code><br>JSON中没有undefined这种数据类型，它使用null表示空，并且必须小写。<br>在JavaScript语言中，var obj = null 表示把obj这个对象清空，它和undefined不太一样，null表示什么都没有，undefined表示未定义。</p>
<p><code>⑤ 对象类型</code><br>对象类型是使用逗号分隔的键值对的集合，使用大括号(<code>&#123;&#125;</code>)裹。</p>
<p><code>⑥ 数组类型</code><br>数组类型是元素的集合，每个元素都可以是字符串、数字、布尔值、对象或者数组中的任何一种。元素与元素之间使用逗号隔开，所有的元素被方括号（<code>[]</code>）包裹，建议数组中所有的元素都应该是相同数据类型的。</p>
<h3 id="1-4-JSON和XMLHTTPRequest"><a href="#1-4-JSON和XMLHTTPRequest" class="headerlink" title="1.4 JSON和XMLHTTPRequest"></a>1.4 JSON和XMLHTTPRequest</h3><p>在前端开发中有一种发送网络请求的技术Ajax，它可以实现异步处理网络通信而不刷新页面。</p>
<p>Ajax的全称为Asynchronous JavaScript and XML，即异步的JavaScript和XML。我们知道JSON的定位是轻量级的数据交互格式，客户端在和服务器端进行网络通信的时候，服务器端返回给我们的数据大多数是JSON或者是XML。也就是说JSON数据在Ajax网络通信中可能扮演重要的角色，<code>那什么Ajax不叫异步的JSON而叫做异步的XML呢？</code> 答案是：因为刚提出这种网络请求技术的时候，XML相比JSON更流行。</p>
<p>在Ajax网络请求中用到的核心对象XMLHTTPRequest也是如此，其实这个对象命名中包含XML也仅仅是因为对于当时而言，XML是网络请求中最常用的数据交换格式。如果放在今天，那么它们的名字应该叫做AjaJ(Asynchronous JavaScript and JSON)和JSONHTTPRequest更合适一些。</p>
<h3 id="1-5-JavaScript中JSON数据的序列化和反序列化处理"><a href="#1-5-JavaScript中JSON数据的序列化和反序列化处理" class="headerlink" title="1.5 JavaScript中JSON数据的序列化和反序列化处理"></a>1.5 JavaScript中JSON数据的序列化和反序列化处理</h3><p>在网络请求中，如果服务器返回给我们的数据是JSON数据，那么为了方便对数据的操作，通常我们在网络请求成功拿到JSON数据之后会先对JSON数据进行反序列化操作。<br>在前端开发中，早期的JSON解析基本上由eval函数来完成，ECMAScript5对解析JSON的行为进行了规范，定义了全局对象JSON。目前IE8+、FireFox 3.5+、Opera 10.5、Safari 4+和Chrome等浏览器均支持原生的JSON全局对象。</p>
<p><strong>JSON数据的处理主要涉及到两方面：<span style='color:#f55'>序列化处理和反序列化处理</span></strong></p>
<h4 id="1-5-1-使用eavl函数来处理JSON数据"><a href="#1-5-1-使用eavl函数来处理JSON数据" class="headerlink" title="1.5.1 使用eavl函数来处理JSON数据"></a>1.5.1 使用eavl函数来处理JSON数据</h4><p><strong>eavl函数说明</strong></p>
<p>JavaScript语言中eavl函数可以把字符串转换为js的代码并且马上执行，使用情况和Function构造函数用法类型。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">&quot;var a = 123;&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(a + <span class="number">1</span>);  <span class="comment">//输出结果为124</span></span><br></pre></td></tr></table></figure>
<p>因为从某种程度上来讲，json其实是JavaScript语言的严格子集，所以我们可以直接通过eval函数来对json数据进行解析。需要注意的是，使用eavl函数来对json数据结构求值存在风险，因为可能会执行一些恶意代码。</p>
<p><strong>eavl函数解析JSON</strong></p>
<p>服务器返回给前端的json数据可能是<code>&#123;...&#125;</code>形式的，也可能是<code>[...]</code>形式的，分别对应js中的对象和数组。如果是<code>&#123;...&#125;</code>形式的，那么在解析的时候，如果直接以eval(json)的方式处理会报错，因为js中不允许直接写{name:”zs”}类似的语句。遇到这种结构的json数据，通常我们有两种方式进行处理：<span style='color:#f22'>① 包装成表达式 ② 赋值给变量。</span></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//001 [...] 格式的json数据</span></span><br><span class="line"><span class="keyword">var</span> arrJson= <span class="string">&#x27;[&#123;&quot;name&quot;:&quot;zs&quot;,&quot;age&quot;:18&#125;,&#123;&quot;name&quot;:&quot;lisi&quot;,&quot;age&quot;:28&#125;]&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> jsonArr = <span class="built_in">eval</span>(arrJson);</span><br><span class="line"></span><br><span class="line"><span class="comment">//002 &#123;...&#125; 格式的json数据</span></span><br><span class="line"><span class="keyword">var</span> objJson = <span class="string">`&#123;&quot;name&quot;:&quot;wendingding&quot;,&quot;age&quot;:18,&quot;contentAbout&quot;:[&quot;JavaScript&quot;,&quot;CSS&quot;,&quot;HTML&quot;],&quot;car&quot;:&#123;&quot;number&quot;:&quot;粤A6666&quot;,&quot;color&quot;:&quot;red&quot;&#125;&#125;`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//eval(json);  错误的演示：报错</span></span><br><span class="line"><span class="comment">//处理方式(1)：以拼接的方式赋值给变量</span></span><br><span class="line"><span class="built_in">eval</span>(<span class="string">&quot;var jsonObj1 = &quot;</span> + objJson);</span><br><span class="line"><span class="comment">//处理方式(2)：包装成表达式</span></span><br><span class="line"><span class="keyword">var</span> jsonObj2 = <span class="built_in">eval</span>(<span class="string">&quot;(&quot;</span> + objJson +<span class="string">&quot;)&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//打印转换后得到的数组|对象</span></span><br><span class="line"><span class="built_in">console</span>.log(jsonArr);</span><br><span class="line"><span class="built_in">console</span>.log(jsonObj1);</span><br><span class="line"><span class="built_in">console</span>.log(jsonObj2);</span><br></pre></td></tr></table></figure>
<img src='../../../../src/js_10.png' height='250'>

<h4 id="1-5-2-使用JSON全局对象来处理JSON数据"><a href="#1-5-2-使用JSON全局对象来处理JSON数据" class="headerlink" title="1.5.2 使用JSON全局对象来处理JSON数据"></a>1.5.2 使用JSON全局对象来处理JSON数据</h4><p>JSON全局对象拥有两个方法：stringify()和parse()，其中parse方法用于把json数据反序列化为原生的js，stringify方法用于把js对象序列化为json字符串。</p>
<p><strong>parse方法的使用</strong><br><span style='color:#f55'>语法：JSON.parse(jsonString,[fn])</span></p>
<p>参数说明</p>
<blockquote>
<p>第一个参数：jsonString为要解析的json字符串<br>第二个参数：fn是一个可选参数，该参数为函数类型，接收两个参数，分别是每个键值对的key和value。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//json字符串</span></span><br><span class="line"><span class="keyword">var</span> objJson = <span class="string">`&#123;&quot;name&quot;:&quot;wendingding&quot;,&quot;age&quot;:18,&quot;contentAbout&quot;:[&quot;JavaScript&quot;,&quot;CSS&quot;,&quot;HTML&quot;],&quot;car&quot;:&#123;&quot;number&quot;:&quot;粤A6666&quot;,&quot;color&quot;:&quot;red&quot;&#125;&#125;`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//把json字符串转换为js数组</span></span><br><span class="line"><span class="keyword">var</span> arrJson= <span class="string">&#x27;[&#123;&quot;name&quot;:&quot;zs&quot;,&quot;age&quot;:18&#125;,&#123;&quot;name&quot;:&quot;lisi&quot;,&quot;age&quot;:28&#125;]&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//把json字符串转换为js对象</span></span><br><span class="line"><span class="keyword">var</span> jsonObj = <span class="built_in">JSON</span>.parse(objJson);</span><br><span class="line"><span class="keyword">var</span> jsonArr = <span class="built_in">JSON</span>.parse(arrJson);</span><br><span class="line"><span class="built_in">console</span>.log(jsonObj);</span><br><span class="line"><span class="built_in">console</span>.log(jsonArr);</span><br><span class="line"></span><br><span class="line"><span class="comment">//演示parse方法中函数参数的使用</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">key, value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (key === <span class="string">&quot;name&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> value + <span class="string">&quot;++&quot;</span>         <span class="comment">//在原有value值的基础上拼接++字符串</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (key === <span class="string">&quot;age&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">undefined</span>            <span class="comment">//如果返回undefined，则表示删除对应的键值对</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> value                <span class="comment">//正常返回对应的value值</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.parse(objJson, fn));</span><br></pre></td></tr></table></figure>
<img src='../../../../src/js_11.png' height='250'>

<p><strong>stringify方法使用说明</strong><br><span style='color:#f55'>语法：JSON.stringify(Obj,[fn|arr],[space])</span></p>
<p>参数说明</p>
<blockquote>
<p>第一个参数：Obj为要进行序列化操作的JavaScript对象<br>第二个参数：过滤器，可以是函数或者是一个数组<br>第三个参数：是否在生成的json字符串中保留缩进，用于控制缩进的字符</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//js中的普通对象</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;zs&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">    <span class="attr">friends</span>:[<span class="string">&quot;小霸王&quot;</span>,<span class="string">&quot;花仙子&quot;</span>,<span class="string">&quot;奥特曼&quot;</span>],</span><br><span class="line">    <span class="attr">other</span>:<span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">showName</span>:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//把js中的对象转换为json字符串</span></span><br><span class="line"><span class="comment">//注意：</span></span><br><span class="line"><span class="comment">//001 如果键值对中存在value值为undefined的数据，那么会被跳过</span></span><br><span class="line"><span class="comment">//002 对象中的方法以及该对象的原型成员数据在进行转换的时候，会被有意忽略</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj));</span><br><span class="line"></span><br><span class="line"><span class="comment">//控制缩进，该参数的值可以是数字也可以是字符串，自动换行</span></span><br><span class="line"><span class="comment">//001 如果是字符串那么会把对应的字符拼接在键值对前面，超过10个字符的省略</span></span><br><span class="line"><span class="comment">//002 如果是数字那么会设置对应的缩进，最多为10，超过则默认为10</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj, <span class="literal">null</span>, <span class="number">4</span>));</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj, <span class="literal">null</span>, <span class="string">&quot;@@&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//过滤器（数组）：表示只处理key为name和age这两个键值对</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj, [<span class="string">&quot;name&quot;</span>,<span class="string">&quot;age&quot;</span>]));</span><br><span class="line"></span><br><span class="line"><span class="comment">//过滤器（函数）：</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">key,value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (key === <span class="string">&quot;age&quot;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> value + <span class="number">20</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (key === <span class="string">&quot;name&quot;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">undefined</span>;       <span class="comment">//过滤掉key为name这个键值对</span></span><br><span class="line">    &#125;<span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj,fn));</span><br></pre></td></tr></table></figure>
<img src='../../../../src/js_12.png' height='300' width='600'>

<p><strong>JSON数据总结</strong></p>
<blockquote>
<p>❐  JSON全称是JavaScript Object Notation基于JavaScript，是JavaScript的子集。<br>❐  JSON虽然是JavaScript的子集，但并不从属于JavaScript，它独立于语言。<br>❐  JSON是用来表示和传输数据的格式，比XML更轻量级，现已成为web数据交换的事实标准。<br>❐  JSON的优势在于其可以方便的把JSON字符串数据转换为对应的对象，比XML更方便且数据更小。<br>❐  JSON语法可以表示：字符串、数值、布尔值、null、对象和数组6种类型的值，不支持undefined。<br>❐  JSON中的”键”区别于JavaScript，必须要加上双引号。<br>❐  JSON解析可以使用传统的eval函数，或ECMAScript5推出的全局对象来处理。</p>
</blockquote>
<p><strong>参考资料</strong></p>
<p>JSON官网：<a target="_blank" rel="noopener" href="http://json.org/">http://json.org/</a><br>JSON维基百科：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/JSON">https://en.wikipedia.org/wiki/JSON</a><br>JSON作者简介：<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Douglas_Crockford">https://en.wikipedia.org/wiki/Douglas_Crockford</a><br>JSON必知必会:<a target="_blank" rel="noopener" href="https://book.douban.com/subject/26789960/">https://book.douban.com/subject/26789960/</a><br>JavaScript高级程序设计：<a target="_blank" rel="noopener" href="https://book.douban.com/subject/10546125/">https://book.douban.com/subject/10546125/</a></p>
<img src='../../../../z.png' width="200px">

<hr>
<ul>
<li>Posted by 博客园·<a target="_blank" rel="noopener" href="http://www.cnblogs.com/wendingding/">文顶顶</a> | <a target="_blank" rel="noopener" href="http://wendingding.com/">花田半亩</a></li>
<li>联系作者 简书·<a target="_blank" rel="noopener" href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&mod=TAB#place">Coder_文顶顶</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a target="_blank" rel="noopener" href="http://www.cnblogs.com/wendingding/">文顶顶</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2018/04/17/javaScript%E7%B3%BB%E5%88%97%20%5B06%5D-javaScript%E5%92%8Cthis/" class="prev">上一篇</a><a href="/2018/04/15/javaScript%E7%B3%BB%E5%88%97%20%5B04%5D-javaScript%E7%9A%84%E5%8E%9F%E5%9E%8B%E9%93%BE/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2022 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计 422k (字)</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>