<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> javaScript系列 [08]-javaScript和JSON (进阶) · 花田半亩</title><meta name="description" content="javaScript系列 [08]-javaScript和JSON (进阶) - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="花田半亩" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="https://github.com/flowerField" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">javaScript系列 [08]-javaScript和JSON (进阶)</h1><div class="post-info">Apr 19, 2018<span class="post-count"></span> ✧ 字数统计:2.6k(字) &nbsp;&nbsp; ♨︎ 阅读时长:10(分钟)</div><div class="post-content"><div class='tip'>在[javaScript和JSON](http://wendingding.com/2018/04/16/javaScript%E7%B3%BB%E5%88%97%20[05]-javaScript%E5%92%8CJSON/)这篇博文中已经对JSON的基础知识进行了系统的介绍，此文是JSON知识的**进阶内容**，本文输出和JSON有关的以下内容：</div>

<blockquote>
<p>❐  JSON核心<br>❐  JSON的校验(JSON Schema)</p>
</blockquote>
<h3 id="JSON核心"><a href="#JSON核心" class="headerlink" title="JSON核心"></a>JSON核心</h3><p>JSON是一种数据交换格式，是当前网络通信中使用的主流数据格式。</p>
<p><span style='color:#000'>JSON本身并不局限(依赖)于某项特定的技术，非私有且可移植，几乎所有的现代编程语言(<code>javaScript</code> | <code>java</code> | <code>Ruby</code> | <code>C#</code> | <code>PHP</code> | <code>Object-C</code>等)和平台都支持对JSON数据的序列化和反序列化处理，JSON主要应用在**<code>网络通信的数据格式</code>、<code>Node用来存储项目元数据</code>、<code>Kafka类似的消息平台</code><strong>以及</strong><code>MongoDB等NoSQL数据库</code>**中。</p>
<p><span style='border:1px solid #000;padding:5px 20px;'><strong>JSON流行的主要原因</strong></span></p>
<ul>
<li><strong>JavaScript语言的复兴和崛起</strong>。</li>
<li><strong>JSON自身数据结构的简洁和紧凑特性</strong>。</li>
<li><strong>基于JSON的RESTful API呈现大规模增长</strong>。</li>
<li><strong>Ecma国际和IETF相关的标准化工作让JSON获得行业认可</strong>。</li>
</ul>
<p>JSON的作者<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Douglas_Crockford">Douglas Crockford</a>在创作时借鉴了JavaScript对象字面量的语法，也就是说JSON本身就是JavaScript对象字面量表示法的一个子集和JavaScript开发能够无缝融合，而JavaScript编程语言的复兴和崛起(<code>前端 + Node后端生态</code>)极大的推动了JSON的流行。</p>
<p>JSON的数据表示方式非常简洁，结构紧凑易于阅读而且其本身的结构与高级编程语言中的<code>对象|字典|数组</code>结构天然一致，与XML相比更适合面向对象的设计和开发。此外，JSON格式的文档通常比相同内容的XML文档更小，因此在进行网络传输和处理的时候更快、效率更高，JSON本身的这些特性加上相关技术环境的发展让它逐步替代XML成为互联网中主要的数据交换格式。 </p>
<p>近些年，基于JSON的RESTful API呈现大规模爆炸式增长，包括LinkedIn、Github、Twitter、Facebook、Tumblr和Amazon等公司都提供基于JSON的RESTful API(<strong><code>备注</code></strong> 相关API可以访问<a target="_blank" rel="noopener" href="https://www.programmableweb.com/">programmableweb</a>查询)。</p>
<p>JSON的标准化(成为一项技术标准)，让JSON获得了行业内的认可，下面简单列出主要的标准化进程。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2001 年 JSON由Douglas Crockford提出。</span><br><span class="line">2006 年 JSON由IETF通过RFC 4627进行首次标准化。</span><br><span class="line">2013 年 Ecma国际通过ECMA 404 将JSON正式标准化。</span><br><span class="line">2014 年 Tim Bray发布了RFC 7158和RFC 7159作为原始标准的改进版本(主要修正了4627标准中的一些错误)。</span><br></pre></td></tr></table></figure>
<p><span style='border:1px solid #000;padding:5px 20px;'><strong>JSON数值的类型</strong></span></p>
<p>JSON数值的类型主要指的是在JSON文档中，键值对冒号(:)后侧值的数据类型，主要包括：</p>
<ul>
<li><span style='color:#196'><strong>null</strong></span></li>
<li><span style='color:#196'><strong>数值</strong></span></li>
<li><span style='color:#196'><strong>对象</strong></span></li>
<li><span style='color:#196'><strong>数组</strong></span></li>
<li><span style='color:#196'><strong>字符串</strong></span></li>
<li><span style='color:#196'><strong>布尔值</strong></span></li>
</ul>
<p>**<code>null</code>**是JSON中的一个特殊值，用来表示某个key(属性)没有值用作占位符，注意不能由引号括起来。</p>
<p>**<code>数值</code>**遵循JavaScript双精度浮点数格式，支持指数形式，但仅支持十进制数不支持8进制和16进制数。</p>
<p>**<code>对象</code>**由 { 和 } 把键值对(key-value)括起来，允许设置为空对象，可以内嵌在其他的对象或者是数组中。</p>
<p>**<code>数组</code>**由 [ 和 ] 把元素括起来，允许设置为空数组且不限制类型，可以内嵌在其他的对象或者是数组中。</p>
<p>**<code>字符串</code>**由包含在双引号间的N(&gt;=0)个Unicode字符组成可包含由转义字符，但<span style='color:#972'>单引号字符串是非法的</span>。</p>
<p><strong><code>布尔值</code><strong>只存在true和false这两种值，且不能用引号把它们括起来，需注意JSON中没有为</strong>undefined</strong>值。</p>
<p><span style='border:1px solid #000;padding:5px 20px;'><strong>More …</strong></span></p>
<p><strong>版本 ➤</strong>JSON的核心标准不会再有新的版本，适用”无版本”理念。</p>
<p><strong>类型 ➤</strong>JSON数据在文件系统中存储的标准文件类型为.json，IANA为JSON文档指定的MIME(媒体类型)为<span style='color:red'>application/json</span>。</p>
<p><strong>缩进 ➤</strong>JSON的编码规范并不存在与JSON数据缩进相关的话题，主要因为JSON本身是一种序列化格式而非呈现格式，所以缩进对JSON本身而言意义不大，在优化JSON现实的时候，常见的缩进方案是两格缩进或四格缩进。</p>
<p><strong>工具 ➤</strong> </p>
<p>在线生成合法JSON文档的工具(1)  <a target="_blank" rel="noopener" href="http://jsonmate.com/">JSONmate</a><br>在线生成合法JSON文档的工具(2)  <a target="_blank" rel="noopener" href="https://jsoneditoronline.org/">JSON Editor Online</a><br>在线校验JSON文档是否合法的工具(1) <a target="_blank" rel="noopener" href="http://json-schema.org/">JSON Schema</a><br>在线校验JSON文档是否合法的工具(2) <a target="_blank" rel="noopener" href="http://jsonvalidate.com/">JSON Validate</a><br>快速生成大量测试JSON数据的工具推荐 <a target="_blank" rel="noopener" href="https://www.json-generator.com/">JSON Generator</a><br>在线对复杂JSON数据格式化的工具推荐 <a target="_blank" rel="noopener" href="http://tool.oschina.net/codeformat/json">JSON 在线格式化</a></p>
<img src='../../../../src/json_01.png'>

<div class='tip'>创建|编辑JSON文件的时候，建议使用[JSON Editor Online](https://jsoneditoronline.org)在线工具，上图是其基本工作界面。</div>

<h3 id="JSON-Schema"><a href="#JSON-Schema" class="headerlink" title="JSON Schema"></a>JSON Schema</h3><p><a target="_blank" rel="noopener" href="http://json-schema.org/">JSON Schema</a>是对JSON文档中的内容、结构和格式进行的声明，用于校验JSON文档。区别于普通的JSON校验工具，JSON Schema能够对JSON文档执行<strong>语法校验</strong>和严格的<strong>语义校验</strong>。<a target="_blank" rel="noopener" href="http://json-schema.org/">JSON Schema</a>这种能够用于校验JSON文档内容和语义的工具能够有效提供服务的安全性，在消息系统中的应用能够确保数据格式的正确性，在API设计领域还能够帮助定义API协议等。</p>
<p><strong>建议</strong> 从零开始对JSON文档的内容进行声明非常麻烦也没有必要，建议先使用<a target="_blank" rel="noopener" href="https://jsonschema.net/">JSONSchema.net网站</a>来根据已有的JSON文档生成对应的Schema文档，然后再根据具体的校验规则来逐步修缮。</p>
<p><span style='border:1px solid #000;padding:5px 20px;'><strong>基本示例</strong></span></p>
<p>这里先给出一份简单的JSON文档和对该文档的JSON Schema描述，然后再介绍<code>JSON Schema的核心关键词</code>和具体规则。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 文件名 demo.json 注意该行不作为json文件的内容</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;wendingding&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;age&quot;</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="attr">&quot;email&quot;</span>: <span class="string">&quot;wendingding_ios@126.com&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;height&quot;</span>: <span class="number">1.73</span>,</span><br><span class="line">    <span class="attr">&quot;isGoodMan&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">&quot;tags&quot;</span>: [</span><br><span class="line">        <span class="string">&quot;javaScript&quot;</span>,</span><br><span class="line">        <span class="string">&quot;object-C&quot;</span>,</span><br><span class="line">        <span class="string">&quot;C++&quot;</span>,</span><br><span class="line">        <span class="string">&quot;swift&quot;</span>,</span><br><span class="line">        <span class="string">&quot;php&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;car&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;A&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;number&quot;</span>: <span class="string">&quot;粤A 66666&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;price&quot;</span>: <span class="number">21344.88</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"># 文件名 demo-schema.json 注意该行不作为json文件的内容</span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;$schema&quot;</span>: <span class="string">&quot;http://json-schema.org/draft-07/schema#&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;object&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;required&quot;</span>: [<span class="string">&quot;name&quot;</span>,<span class="string">&quot;age&quot;</span>,<span class="string">&quot;email&quot;</span>,<span class="string">&quot;height&quot;</span>,<span class="string">&quot;isGoodMan&quot;</span>,<span class="string">&quot;tags&quot;</span>,<span class="string">&quot;car&quot;</span>],</span><br><span class="line">  <span class="attr">&quot;properties&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;examples&quot;</span>: [ <span class="string">&quot;wendingding&quot;</span> ],</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;age&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;integer&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;examples&quot;</span>: [ <span class="number">18</span> ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;email&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;examples&quot;</span>: [<span class="string">&quot;wendingding_ios@126.com&quot;</span>],</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;height&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;number&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;examples&quot;</span>: [ <span class="number">1.73</span> ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;isGoodMan&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;boolean&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;examples&quot;</span>: [ <span class="literal">true</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;tags&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;array&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;items&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">        <span class="attr">&quot;examples&quot;</span>: [<span class="string">&quot;javaScript&quot;</span>, <span class="string">&quot;object-C&quot;</span>, <span class="string">&quot;C++&quot;</span>,<span class="string">&quot;swift&quot;</span>,<span class="string">&quot;php&quot;</span>]  </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">&quot;car&quot;</span>: &#123;</span><br><span class="line">      <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;object&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;required&quot;</span>: [<span class="string">&quot;type&quot;</span>,<span class="string">&quot;number&quot;</span>, <span class="string">&quot;price&quot;</span>],</span><br><span class="line">      <span class="attr">&quot;properties&quot;</span>: &#123;</span><br><span class="line">        <span class="attr">&quot;type&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;examples&quot;</span>: [<span class="string">&quot;A&quot;</span>] </span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">&quot;number&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;string&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;examples&quot;</span>: [<span class="string">&quot;粤A 66666&quot;</span>]   </span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">&quot;price&quot;</span>: &#123;</span><br><span class="line">          <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;number&quot;</span>,</span><br><span class="line">          <span class="attr">&quot;examples&quot;</span>: [<span class="number">21344.88</span> ] </span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>推荐使用命令行工具的validate模块来使用Schema对准备好的JSON文档进行校验，列出执行细节：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wendingding$ npm install -g ujs-jsonvalidate</span><br><span class="line">/usr/<span class="built_in">local</span>/bin/validaten -&gt; /usr/<span class="built_in">local</span>/lib/node_modules/ujs-jsonvalidate/bin/validaten</span><br><span class="line">/usr/<span class="built_in">local</span>/bin/validate -&gt; /usr/<span class="built_in">local</span>/lib/node_modules/ujs-jsonvalidate/bin/validate</span><br><span class="line">+ ujs-jsonvalidate@0.1.2</span><br><span class="line">added 4 packages <span class="keyword">in</span> 7.353s</span><br><span class="line">wendingding$ validate demo.json demo-schema.json </span><br><span class="line">JSON content <span class="keyword">in</span> file demo.json is valid</span><br></pre></td></tr></table></figure>
<p>因为在Schema文档中name字段是必要的，这里尝试删除demo.json文档中的<code>name:&quot;wendingding&quot;</code>部分，然后重新执行校验会发现提示错误信息。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">wendingding$ cat demo.json</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;age&quot;</span>: 18,</span><br><span class="line">  <span class="string">&quot;email&quot;</span>: <span class="string">&quot;wendingding_ios@126.com&quot;</span>,</span><br><span class="line">  <span class="string">&quot;height&quot;</span>: 1.73,</span><br><span class="line">  <span class="string">&quot;isGoodMan&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">&quot;tags&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;javaScript&quot;</span>,</span><br><span class="line">    <span class="string">&quot;object-C&quot;</span>,</span><br><span class="line">    <span class="string">&quot;C++&quot;</span>,</span><br><span class="line">    <span class="string">&quot;swift&quot;</span>,</span><br><span class="line">    <span class="string">&quot;php&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;car&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;type&quot;</span>: <span class="string">&quot;A&quot;</span>,</span><br><span class="line">    <span class="string">&quot;number&quot;</span>: <span class="string">&quot;粤A 66666&quot;</span>,</span><br><span class="line">    <span class="string">&quot;price&quot;</span>: 21344.88</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">wendingding$ validate demo.json demo-schema.json </span><br><span class="line">Invalid: Missing required property: name</span><br><span class="line">JSON Schema element: /required/0</span><br><span class="line">JSON Content path: </span><br></pre></td></tr></table></figure>

<p><span style='border:1px solid #000;padding:5px 20px;'><strong>核心关系词说明</strong></span></p>
<p><strong><code>type</code></strong> 声明对应字段的类型。<br><strong><code>pattern</code></strong> 使用正则表达式来限定字段的值。<br><strong><code>properties</code></strong> 声明对象中的字段，其中包含具体字段的type值等信息。<br><strong><code>$schema</code></strong> 声明遵循的<a target="_blank" rel="noopener" href="http://json-schema.org/">JSON Schema</a>标准版本，校验文档时使用该版本的规则。</p>
<p><strong><code>items</code></strong> 如果字段是数组类型(array)，那么对数组元素的类型等进行限定。<br><strong><code>minimum | maximum</code></strong> 如果是数值类型(number)，那么限定其取值的范围。<br><strong><code>minItems | maxItems</code></strong> 用于校验数组成员的数目，设定最小数目和最大数目。<br><strong><code>examples</code></strong> 提供该字段对应值的示例，在创建schema文档的时候通常根据JSON模板文件的内容生成。<br><strong><code>enum</code></strong> 定义固定的枚举值来限制数组元素的取值，即数组的元素值只能是enum限定集合中的数据。</p>
<p><strong><code>additionalProperties</code></strong> 将该字段设置为false可以禁止JSON文档当前节点中出现额外的字段。<br><strong><code>required</code></strong> 该数组用于声明JSON文档中所有的必需字段，即必需包含这些字段，否则视为非法文档。<br><strong><code>dependencies</code></strong> 设置字段的依赖关系，即JSON文档中出现了某个字段的出现必须依赖某个特定字段。<br><strong><code>patternProperties</code></strong> 模式属性可以基于正则表达式来声明部分重复的字段名，如<code>^string[1-3]$</code>。</p>
<div class='tip'>**建议** 在工作中如果需要对JSON数据进行严格的语法和语义校验，那么建议先使用典型的JSON文档利用[JSON Schema在线工具](http://json-schema.org)自动生成对应的Schema校验文件，然后再对该文件进行二次编辑，这样效率会更高一些。</div>

<p>这里给出<code>JSON Schema在线工具</code>的使用示例。</p>
<img src='../../../../src/json_02.gif'>

<p><strong>扩展</strong> 前文中在对JSON文档和对应Schema进行校验的时候，在命令行中使用的是<code>validate模块</code>，该模块是<a target="_blank" rel="noopener" href="http://jsonvalidate.com/">JSON Validate</a>网站所对应的npm包，具体使用的是名为<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/ujs-jsonvalidate">ujs-jsonvalidate</a>的处理器。此外，<a target="_blank" rel="noopener" href="https://github.com/epoberezkin/ajv">ajv</a>也是Node中优秀的一款JSON校验类库，它本身很简洁且兼容性很好，更多信息可以参考链接地址。</p>
<img src='../../../../z.png' width="200px">

<hr>
<ul>
<li>Posted by 博客园·<a target="_blank" rel="noopener" href="http://www.cnblogs.com/wendingding/">文顶顶</a> | <a target="_blank" rel="noopener" href="http://wendingding.com/">花田半亩</a></li>
<li>联系作者 简书·<a target="_blank" rel="noopener" href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&mod=TAB#place">Coder_文顶顶</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a target="_blank" rel="noopener" href="http://www.cnblogs.com/wendingding/">文顶顶</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2018/04/20/javaScript%E7%B3%BB%E5%88%97%20%5B09%5D-javaScript%E5%92%8CJSON(%E6%89%A9%E5%B1%95)/" class="prev">上一篇</a><a href="/2018/04/18/javaScript%E7%B3%BB%E5%88%97%20%5B07%5D-%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%AE%A1%E6%97%B6%E5%99%A8/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2022 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计 422.4k (字)</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>