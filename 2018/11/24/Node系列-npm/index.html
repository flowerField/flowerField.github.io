<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Node系列-npm · 花田半亩</title><meta name="description" content="Node系列-npm - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="花田半亩" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="https://github.com/flowerField" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Node系列-npm</h1><div class="post-info">Nov 24, 2018<span class="post-count"></span> ✧ 字数统计:3k(字) &nbsp;&nbsp; ♨︎ 阅读时长:13(分钟)</div><div class="post-content"><img src='https://npm.community/uploads/npm1/original/1X/ddff80661892358cd69fe28b6ca91718589a7aa0.png' style='width:100px'>
<div class='tip'>本文输出Node中和包管理有关的基本内容，即npm的使用。</div>

<h4 id="1-0-简单介绍"><a href="#1-0-简单介绍" class="headerlink" title="1.0 简单介绍"></a>1.0 简单介绍</h4><p><a target="_blank" rel="noopener" href="https://www.npmjs.com/">npm</a>全称<code>Node packAge Manager</code>是<a target="_blank" rel="noopener" href="https://nodejs.org/en/">Node</a>官方提供的<strong>包管理工具</strong>，下面列出包管理工具的功能边界。</p>
<blockquote>
<p>❏  注册机制<br>❏  文件存储<br>❏  上传下载<br>❏  依赖分析</p>
</blockquote>
<p>对于普通开发者而言包管理工具最主要的作用就是下载和安装(<code>Node</code>)包，前端开发中常用的包管理工具还有<a target="_blank" rel="noopener" href="https://bower.io/">Bower</a>，Bower的具体使用可以参考<a target="_blank" rel="noopener" href="http://wendingding.com/2018/05/14/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E7%B3%BB%E5%88%97[01]%20%20Bower%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8/">Bower包管理工具的使用</a>。Node应用开发中类似的包管理工具还有<a target="_blank" rel="noopener" href="https://github.com/cnpm/cnpm">CNPM</a>以及<a target="_blank" rel="noopener" href="https://yarn.bootcss.com/">Yarn</a>等。</p>
<p>在<a target="_blank" rel="noopener" href="https://www.npmjs.com/">npm</a>网站上有数以万计的Node包，具体使用的时候我们可以在命令行窗口中通过执行npm相关的命令来下载和管理需要的(<code>Node</code>)包。npm的相关命令主要涉及包的<strong>搜索</strong>、<strong>下载&amp;&amp;安装</strong>、<strong>卸载</strong>以及<strong>更新</strong>等。</p>
<h4 id="2-0-基本命令"><a href="#2-0-基本命令" class="headerlink" title="2.0 基本命令"></a>2.0 基本命令</h4><div class='titleX'>**安装**</div>

<p>通常npm工具在安装Node.js环境(<a target="_blank" rel="noopener" href="https://nodejs.org/en/">Node的安装直接到官网点击下载链接</a>)的时候会跟随<code>Node</code>一起安装，可以通过在命令行中输入下面的命令来查看安装是否成功。</p>
<p><span class='spaceY'>$ node -v</span> 查看node的版本信息<br><span class='spaceY'>$ npm  -v</span> 查看npm的版本信息，也可以使用<code>$npm -version</code>或者<code>$npm --v</code>指令。</p>
<p><strong>技巧</strong> 使用<code>$ npm version</code>可以查看更详细的信息。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">wendingding:npm wendingding$ npm -version</span><br><span class="line">5.5.1</span><br><span class="line"></span><br><span class="line">wendingding:npm wendingding$ npm version</span><br><span class="line">&#123; npm: <span class="string">&#x27;5.5.1&#x27;</span>,</span><br><span class="line">  ares: <span class="string">&#x27;1.10.1-DEV&#x27;</span>,</span><br><span class="line">  cldr: <span class="string">&#x27;31.0.1&#x27;</span>,</span><br><span class="line">  http_parser: <span class="string">&#x27;2.7.0&#x27;</span>,</span><br><span class="line">  icu: <span class="string">&#x27;59.1&#x27;</span>,</span><br><span class="line">  modules: <span class="string">&#x27;57&#x27;</span>,</span><br><span class="line">  nghttp2: <span class="string">&#x27;1.25.0&#x27;</span>,</span><br><span class="line">  node: <span class="string">&#x27;8.9.3&#x27;</span>,</span><br><span class="line">  openssl: <span class="string">&#x27;1.0.2n&#x27;</span>,</span><br><span class="line">  tz: <span class="string">&#x27;2017b&#x27;</span>,</span><br><span class="line">  unicode: <span class="string">&#x27;9.0&#x27;</span>,</span><br><span class="line">  uv: <span class="string">&#x27;1.15.0&#x27;</span>,</span><br><span class="line">  v8: <span class="string">&#x27;6.1.534.48&#x27;</span>,</span><br><span class="line">  zlib: <span class="string">&#x27;1.2.11&#x27;</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<div class='titleX'>**帮助**</div>

<p>在通过命令行工具来练习和学习的时候，建议总是从工具的帮助指令开始。</p>
<p><span class='spaceY'>$ npm help</span>  查看node的使用帮助，也可以使用<code>$npm -h</code>或者<code>$npm --h</code>指令。</p>
<p>这里列出<code>help指令</code>的执行细节。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">wendingding:~ wendingding$ npm <span class="built_in">help</span></span><br><span class="line"></span><br><span class="line">Usage: npm &lt;<span class="built_in">command</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="built_in">where</span> &lt;<span class="built_in">command</span>&gt; is one of:</span><br><span class="line">    access, adduser, bin, bugs, c, cache, completion, config,</span><br><span class="line">    ddp, dedupe, deprecate, dist-tag, docs, doctor, edit,</span><br><span class="line">    explore, get, <span class="built_in">help</span>, help-search, i, init, install,</span><br><span class="line">    install-test, it, link, list, ln, login, <span class="built_in">logout</span>, ls,</span><br><span class="line">    outdated, owner, pack, ping, prefix, profile, prune,</span><br><span class="line">    publish, rb, rebuild, repo, restart, root, run, run-script,</span><br><span class="line">    s, se, search, <span class="built_in">set</span>, shrinkwrap, star, stars, start, stop, t,</span><br><span class="line">    team, <span class="built_in">test</span>, token, tst, un, uninstall, unpublish, unstar,</span><br><span class="line">    up, update, v, version, view, whoami</span><br><span class="line"></span><br><span class="line">npm &lt;<span class="built_in">command</span>&gt; -h     quick <span class="built_in">help</span> on &lt;<span class="built_in">command</span>&gt;</span><br><span class="line">npm -l           display full usage info</span><br><span class="line">npm <span class="built_in">help</span> &lt;term&gt;  search <span class="keyword">for</span> <span class="built_in">help</span> on &lt;term&gt;</span><br><span class="line">npm <span class="built_in">help</span> npm     involved overview</span><br><span class="line"></span><br><span class="line">Specify configs <span class="keyword">in</span> the ini-formatted file:</span><br><span class="line">    /Users/文顶顶/.npmrc</span><br><span class="line">or on the <span class="built_in">command</span> line via: npm &lt;<span class="built_in">command</span>&gt; --key value</span><br><span class="line">Config info can be viewed via: npm <span class="built_in">help</span> config</span><br><span class="line"></span><br><span class="line">npm@5.5.1 /usr/<span class="built_in">local</span>/lib/node_modules/npm</span><br></pre></td></tr></table></figure>
<p>通过查看上面的帮助信息，我们可以知道npm的主要命令<code>where &lt;command&gt; is one of下面的列表项</code>以及这些命令的主要使用方式<code>npm &lt;command&gt;</code>。我们可以通过<code>npm &lt;command&gt; -h</code>的方式来学习某个特定命令的使用，下面给出示例。</p>
<p><span class='spaceY spaceL'>$ npm init  -h</span>    查看init初始化命令的使用方式。<br><span class='spaceY spaceL'>$ npm search  -h</span>  查看search搜索命令的使用方式。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wendingding:~ wendingding$ npm init -h</span><br><span class="line">npm init [--force|-f|--yes|-y]</span><br><span class="line">wendingding:~ wendingding$ npm search -h</span><br><span class="line">npm search [--long] [search terms ...]</span><br><span class="line"></span><br><span class="line">aliases: s, se, find</span><br></pre></td></tr></table></figure>
<p>通过命令行执行的结果我们清楚了<code>init</code>初始化指令后面还可以跟<code>--force或--yes</code>等指令，而<code>search</code>搜索指令后面可以跟<code>--long</code>指令(以更详细的方式显示搜索结果)且支持搜索多个关键词。<code>aliases:s , se , find</code>表明<code>search</code>指令可以使用<code>s , se 或者是find</code>来替换，它们的作用是等价的。</p>
<div class='titleX'>**搜索和查看包信息**</div>

<p>我们可以通过下面的搜索命令来搜索和查看<a target="_blank" rel="noopener" href="https://www.npmjs.com/">Node官方包仓库</a>中的包信息。</p>
<p><span class='spaceY spaceL'>$ npm search xx</span>    搜索指定的包，使用<code>--long</code>可以查看更详细的信息。<br><span class='spaceY spaceL'>$ npm view xxxx</span>             查看指定包所使用的<code>package.json</code>文件信息。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">wendingding:~ wendingding$ npm search jquery</span><br><span class="line">NAME                      | DESCRIPTION          | AUTHOR          | DATE       </span><br><span class="line">jquery                    | JavaScript library…  | =dmethvin…      | 2018-01-20 </span><br><span class="line">jquery-ui                 | A curated <span class="built_in">set</span> of…    | =scott.gonzalez… | 2016-09-14</span><br><span class="line">...省略剩下内容</span><br><span class="line"></span><br><span class="line">wendingding:~ wendingding$ npm search --long jquery</span><br><span class="line">NAME                      | DESCRIPTION          | AUTHOR          | DATE       </span><br><span class="line">jquery                    | JavaScript library   | =dmethvin =mgol | 2018-01-20 </span><br><span class="line">                          | <span class="keyword">for</span> DOM operations   | =scott.gonzalez |            </span><br><span class="line">                          |                      | =timmywil       |               </span><br><span class="line">jquery-ui                 | A curated <span class="built_in">set</span> of     | =scott.gonzalez | 2016-09-14 </span><br><span class="line">                          | user interface       | =jzaefferer     |            </span><br><span class="line">                          | interactions,        | =devongovett    |            </span><br><span class="line">                          | effects, widgets,    |                 |            </span><br><span class="line">                          | and themes built on  |                 |            </span><br><span class="line">                          | top of the jQuery    |                 |            </span><br><span class="line">                          | JavaScript Library.  |                 |            </span><br><span class="line">···省略剩下内容      </span><br><span class="line"></span><br><span class="line">wendingding:~ wendingding$ npm view jquery</span><br><span class="line">&#123; name: <span class="string">&#x27;jquery&#x27;</span>,</span><br><span class="line">  description: <span class="string">&#x27;JavaScript library for DOM operations&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;dist-tags&#x27;</span>: &#123; beta: <span class="string">&#x27;3.3.1&#x27;</span>, latest: <span class="string">&#x27;3.3.1&#x27;</span> &#125;,</span><br><span class="line">  versions: </span><br><span class="line">   [ <span class="string">&#x27;1.5.1&#x27;</span>，···<span class="string">&#x27;3.3.1&#x27;</span> ]</span><br><span class="line">  repository: &#123; <span class="built_in">type</span>: <span class="string">&#x27;git&#x27;</span>, url: <span class="string">&#x27;git+https://github.com/jquery/jquery.git&#x27;</span> &#125;,</span><br><span class="line">  readmeFilename: <span class="string">&#x27;README.md&#x27;</span>,</span><br><span class="line">  homepage: <span class="string">&#x27;https://jquery.com&#x27;</span>,</span><br><span class="line">  keywords: [ <span class="string">&#x27;jquery&#x27;</span>, <span class="string">&#x27;javascript&#x27;</span>, <span class="string">&#x27;browser&#x27;</span>, <span class="string">&#x27;library&#x27;</span> ],</span><br><span class="line">  bugs: &#123; url: <span class="string">&#x27;https://github.com/jquery/jquery/issues&#x27;</span> &#125;,</span><br><span class="line">  license: <span class="string">&#x27;MIT&#x27;</span>,</span><br><span class="line">  title: <span class="string">&#x27;jQuery&#x27;</span>,</span><br><span class="line">  version: <span class="string">&#x27;3.3.1&#x27;</span>,</span><br><span class="line">  main: <span class="string">&#x27;dist/jquery.js&#x27;</span>,</span><br><span class="line">  dependencies: &#123;&#125;,</span><br><span class="line">  devDependencies: &#123; ···省略··· &#125;</span><br><span class="line">  scripts: &#123; ···省略··· &#125;</span><br><span class="line">  commitplease: &#123; ···省略··· &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<div class='tip'>**拓展** 前面列出了以jquery为例执行搜索命令的细节，除使用`$ npm search <pkg>`命令来执行搜索外，使  用`$ npm find xx`或`$ npm s xx`或`$ npm se xx`命令也能达到同样的效果。</div>

<p><code>NPM</code>模块仓库本身提供了一个查询服务<code>Registry</code>，<a target="_blank" rel="noopener" href="https://registry.npmjs.org/">点击跳转查询服务网址</a> 。在这个网址后面跟上模块名，就会得到一个里面保存着该模块所有版本相关信息的JSON对象。譬如访问<a target="_blank" rel="noopener" href="https://registry.npmjs.org/jquery">https://registry.npmjs.org/jquery</a> 就能够获得jquery模块相关的信息(等价于使用<code>$ npm view jquery</code>指令)。</p>
<p>此外，在查询网址模块名的后面，还可以跟上版本号或者标签，用来查询某个具体版本的信息。比如， 访问 <a target="_blank" rel="noopener" href="https://registry.npmjs.org/jquery/1.6.2">https://registry.npmjs.org/jquery/1.6.2</a> 就能够得到jquery模块<code>1.6.2版本</code>相关的信息。在获取的JSON对象中，存在一个dist字段，该字段的<code>tarball属性</code>指向的是该版本压缩包的网址，跳转到这个网址下载压缩包，在本地解压，就能够得到当前模块的源码。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dist: &#123;</span><br><span class="line">shasum: <span class="string">&quot;01757a4c5beea29e8ae697527c3131abbe997a28&quot;</span>,</span><br><span class="line">tarball: <span class="string">&quot;https://registry.npmjs.org/jquery/-/jquery-1.6.2.tgz&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<div class='titleX'>**初始化**</div>

<p><span class='spaceY spaceL'>$ npm init </span>    初始化操作，用于生成描述文件。<br><span class='spaceY spaceL'>$ npm init -y</span>    初始化操作，使用默认值自动生成描述文件。</p>
<p><code>init</code>指令用来生成项目的配置(描述)文件(<code>package.json</code>)。该文件中包含了项目的名称、版本、作者、包依赖关系等信息，每个Npm包都拥有自己的<code>package.json</code>文件。在进行初始化的时候，如果使用<code>-y</code>或者<code>--yes</code>选项那么系统将会使用默认值来自动的生成描述文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">wendingding:npm wendingding$ npm init --yes</span><br><span class="line">Wrote to /Users/文顶顶/Desktop/npm/package.json:</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: <span class="string">&quot;npm&quot;</span>,</span><br><span class="line">  <span class="string">&quot;version&quot;</span>: <span class="string">&quot;1.0.0&quot;</span>,</span><br><span class="line">  <span class="string">&quot;description&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;main&quot;</span>: <span class="string">&quot;index.js&quot;</span>,</span><br><span class="line">  <span class="string">&quot;dependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;jquery&quot;</span>: <span class="string">&quot;^3.3.1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;devDependencies&quot;</span>: &#123;&#125;,</span><br><span class="line">  <span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;keywords&quot;</span>: [],</span><br><span class="line">  <span class="string">&quot;author&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;license&quot;</span>: <span class="string">&quot;ISC&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>列出<code>init</code>初始化命令在使用<code>-y或--yes选项</code>时，从当前目录中提取的默认值填充规则。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- name：当前目录名称</span><br><span class="line">- version：总是为<span class="number">1.0</span><span class="number">.0</span>版本</span><br><span class="line">- description：来自README的信息，或空字符串 <span class="string">&quot;&quot;</span></span><br><span class="line">- main：总是为index.js文件</span><br><span class="line">- scripts：默认情况下会创建一个空test脚本</span><br><span class="line">- keywords：空数组[]</span><br><span class="line">- author：空字符串</span><br><span class="line">- license： ISC</span><br><span class="line">- bugs：当前目录中的信息（如果存在）</span><br><span class="line">- homepage：当前目录中的信息（如果存在）</span><br><span class="line">- dependencies：空对象，如果当前目录存在已安装的包则显示。</span><br><span class="line">- devDependencies：空对象。</span><br></pre></td></tr></table></figure>
<div class='titleX'>**包的安装和卸载**</div>

<p>在下载和安装相关Node包的时候，我们可以选择<strong>局部安装</strong>或<strong>全局安装</strong>，如果采用了全局安装的策略那么系统中所有的项目均能使用该包。</p>
<p><span class='spaceY spaceL'>$ npm install </span>    安装配置文件中列出的所有依赖包。<br><span class='spaceY spaceL'>$ npm install less</span>    安装指定的包到当前路径(<code>局部安装</code>)。<br><span class='spaceY spaceL'>$ npm install -g less</span> 安装指定的包到全局包安装路径(<code>全局安装</code>)</p>
<p><code>install</code>命令会将指定的包安装在当前目录下的<code>node_modules</code>子文件夹中，安装好后在当前项目中(如果是node项目)可以通过require来进行加载。<code>-g</code>选项是global全局的意思，表示把指定的包安装在全局包的安装路径中(<code>/usr/local/lib/node_modules</code>)。</p>
<p>下面列出<code>less</code>的安装细节。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wendingding:npm wendingding$ npm install less</span><br><span class="line">+ less@3.8.1</span><br><span class="line">added 60 packages <span class="keyword">in</span> 12.456s</span><br><span class="line">wendingding:npm wendingding$ npm install -g less</span><br><span class="line">/usr/<span class="built_in">local</span>/bin/lessc -&gt; /usr/<span class="built_in">local</span>/lib/node_modules/less/bin/lessc</span><br><span class="line">+ less@3.8.1</span><br><span class="line">added 60 packages <span class="keyword">in</span> 2.299s</span><br><span class="line">wendingding:npm wendingding$ </span><br></pre></td></tr></table></figure>

<p><code>install</code> 命令同<code>i, isntall, add</code>等命令等价。<br><code>install</code> 命令的可选参数还有[–save-prod|–save-dev|–save-optional] [–save-exact] [–no-save]等。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--save     选项在安装包的时候会更新package.json文件的dependencies字段。</span><br><span class="line">--save-dev 选项在安装包的时候会更新package.json文件devDependencies字段(保存包名:版本信息)。</span><br></pre></td></tr></table></figure>

<p>如果我们需要把项目或系统中某些特定的Node模块移除，那么可以使用<code>uninstall</code>命令来卸载，该命令同<code>un, unlink, remove, rm, r</code>等命令等价。</p>
<p><span class='spaceY spaceL'>$ npm uninstall less</span>    卸载当前项目中的指定包(<code>局部</code>)。<br><span class='spaceY spaceL'>$ npm uninstall -g less</span> 卸载全局包安装路径下指定的包(<code>全局</code>)</p>
<p>下面列出<code>less</code>的卸载细节(如果是要卸载全局安装的包那么请使用-g选项)。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wendingding:npm wendingding$ npm remove less</span><br><span class="line">npm WARN saveError ENOENT:no such file or directory, open <span class="string">&#x27;/Users/文顶顶/npm/package.json&#x27;</span></span><br><span class="line">npm WARN enoent ENOENT:no such file or directory, open <span class="string">&#x27;/Users/文顶顶/npm/package.json&#x27;</span></span><br><span class="line">npm WARN npm No description</span><br><span class="line">removed 1 package <span class="keyword">in</span> 0.737s</span><br><span class="line"></span><br><span class="line">wendingding:npm wendingding$ npm remove -g less</span><br><span class="line">removed 60 packages <span class="keyword">in</span> 0.827s</span><br></pre></td></tr></table></figure>

<div class='titleX'>**更新**</div>

<p>我们可以通过<code>update</code>命令来执行更新操作，在进行更新的时候可以指定包名，也可以通过<code>-g</code>选项来指定要更新全局安装的包，<code>&lt;pkg&gt;</code>指代的是包的名称，譬如jsonfile或者jquery等。</p>
<p><span class='spaceY spaceL'>$ npm update </span>      更新当前项目中所有的包。<br><span class='spaceY spaceL'>$ npm update -g </span>   更新全局安装路径下所有的包。<br><span class='spaceY spaceL'>$ npm update  pkg</span>      更新当前项目中安装的指定包。<br><span class='spaceY spaceL'>$ npm update -g  pkg</span>   更新全局安装路径下安装的指定包。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">wendingding:npm wendingding$ npm list</span><br><span class="line">/Users/文顶顶/Desktop/npm</span><br><span class="line">└── (empty)</span><br><span class="line"></span><br><span class="line">wendingding:npm wendingding$ npm install jquery@3.1.0</span><br><span class="line">···省略内容</span><br><span class="line">+ jquery@3.1.0</span><br><span class="line">added 1 package <span class="keyword">in</span> 5.569s</span><br><span class="line"></span><br><span class="line">wendingding:npm wendingding$ npm update jquery</span><br><span class="line">···省略内容</span><br><span class="line"></span><br><span class="line">+ jquery@3.3.1</span><br><span class="line">updated 1 package <span class="keyword">in</span> 0.547s</span><br><span class="line"></span><br><span class="line">wendingding:npm wendingding$ npm list</span><br><span class="line">/Users/文顶顶/Desktop/npm</span><br><span class="line">└── jquery@3.3.1</span><br></pre></td></tr></table></figure>
<p>上面的命令行中，我们首先通过<code>$ npm list</code>命令列出当前项目中已经安装的Node模块，然后下载并安装了jQuery框架的3.1.0版本，继而通过<code>$ npm update jquery</code>指令来把jQuery更新到<code>jquery@3.3.1</code>最新版本。<code>update</code>命令也可以使用简写<code>up</code>来替代。</p>
<div class='titleX'>**其它常用命令**</div>
<span class='spaceY spaceL'>$ npm run </span>       运行script字段定义的命令。
<span class='spaceY spaceL'>$ npm list </span>      列出当前项目中安装的所有包。
<span class='spaceY spaceL'>$ npm list -g</span>      列出系统中全局安装的所有包。
<span class='spaceY spaceL'>$ npm root -g</span>      列出系统中全局安装包的安装路径。
<span class='spaceY spaceL'>$ npm config get cache</span>       查看本地的缓存目录。
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">wendingding:npm wendingding$ npm root -g</span><br><span class="line">/usr/<span class="built_in">local</span>/lib/node_modules</span><br><span class="line"></span><br><span class="line">wendingding$ npm config get cache</span><br><span class="line">/Users/文顶顶/.npm</span><br></pre></td></tr></table></figure>


<h4 id="3-0-番外篇"><a href="#3-0-番外篇" class="headerlink" title="3.0 番外篇"></a>3.0 番外篇</h4><p>npm工具最初由<a target="_blank" rel="noopener" href="https://github.com/isaacs">Isaac Z. Schlueter</a>(<code>艾萨克·施吕特</code>)开发，完全使用JavaScript实现。作者有说明实现npm项目的初衷，主要是当时考虑到模块管理问题的重要性，又因为其它平台如PHP的PEAR或Perl的CPAN等工具都存在诸多缺陷(<a target="_blank" rel="noopener" href="https://github.com/nodejs/node-v0.x-archive/issues/5132#issuecomment-15432598">点击查看作者实现npm的初衷</a>)，所以就自己动手实现了。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/isaacs">Isaac Z. Schlueter</a>简介：npm作者 CEO ，Node.js的前BDFL，<a target="_blank" rel="noopener" href="http://blog.izs.me/">Github主页</a>和<a target="_blank" rel="noopener" href="http://blog.izs.me/">个人博客</a>。</p>
<p class='titleX'> **资料** </p>

<p><a target="_blank" rel="noopener" href="https://www.npmjs.com/">npm官网</a><br><a target="_blank" rel="noopener" href="https://docs.npmjs.com/">npm文档</a><br><a target="_blank" rel="noopener" href="https://github.com/npm/cli">npm源码</a><br><a target="_blank" rel="noopener" href="https://npm.community/">npm讨论</a></p>
<p>截止日前，npm管理的模块(包)总量已经超出70万，下面给出和其他同类型工具的横向对比(<a target="_blank" rel="noopener" href="http://www.modulecounts.com/">数据来源</a>)。</p>
<img src='../../../../src/node_count.png' style="width:500px">

<img src='../../../../z.png' width="200px">

<hr>
<ul>
<li>Posted by 博客园·<a target="_blank" rel="noopener" href="http://www.cnblogs.com/wendingding/">文顶顶</a> | <a target="_blank" rel="noopener" href="http://wendingding.com/">花田半亩</a></li>
<li>联系作者 简书·<a target="_blank" rel="noopener" href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&mod=TAB#place">Coder_文顶顶</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a target="_blank" rel="noopener" href="http://www.cnblogs.com/wendingding/">文顶顶</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2018/11/25/Node%E7%B3%BB%E5%88%97-cnpm/" class="prev">上一篇</a><a href="/2018/11/24/Node%E7%B3%BB%E5%88%97-package/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2022 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计 422k (字)</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>