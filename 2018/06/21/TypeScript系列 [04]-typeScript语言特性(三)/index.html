<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> TypeScript系列 [04]-TypeScript语言特性(三) · 花田半亩</title><meta name="description" content="TypeScript系列 [04]-TypeScript语言特性(三) - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="花田半亩" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="https://github.com/flowerField" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">TypeScript系列 [04]-TypeScript语言特性(三)</h1><div class="post-info">Jun 21, 2018<span class="post-count"></span> ✧ 字数统计:3.9k(字) &nbsp;&nbsp; ♨︎ 阅读时长:16(分钟)</div><div class="post-content"><blockquote>
<p>本文简单介绍TypeScript语言中的以下特性：<br>❏  解构赋值<br>❏  函数介绍<br>❏  命名空间</p>
</blockquote>
<h3 id="解构-amp-展开"><a href="#解构-amp-展开" class="headerlink" title="解构&amp;展开"></a>解构&amp;展开</h3><p><span style='color:red'>解构赋值语法</span>使得我们可以将值从数组或者将属性从对象中提取对应的变量中。下面我们将简单介绍解构赋值特性在数组、对象以及函数声明中的用法。因为解构特性存在被误用的问题且复杂的表达式常常难以理解，所以**<span style='color:red'>建议我们在设计代码的时候表达式要尽量保持小而简单</span>**。</p>
<p><strong>解构数组</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//文件路径  ../04-解构和展开/01-解构数组.ts</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//[001] 解构数组简单介绍</span></span><br><span class="line"><span class="comment">//声明变量arrM(数组)</span></span><br><span class="line"><span class="keyword">let</span> arrM:number[] = [<span class="number">100</span>,<span class="number">200</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//解构操作</span></span><br><span class="line"><span class="comment">//从arrM数组中提取索引为0和1的元素赋值给新声明的变量one和two</span></span><br><span class="line"><span class="keyword">let</span> [one,two] = arrM;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;one = &quot;</span> + one);    <span class="comment">//one = 100</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;two = &quot;</span> + two);    <span class="comment">//one = 200</span></span><br></pre></td></tr></table></figure>
<p>我们通过<code>let [one,two] = arrM</code>这行代码，提取了arrM数组中的前两个元素分别赋值给新声明的变量one和two，这行代码等价于<code>var one = arrM[0], two = arrM[1];</code>分别取值并赋值操作。</p>
<p>下面给出代码示例，简单演示了如何解构数组中的部分元素（包括：开头位置、结尾位置、指定位置等情况）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//[002] 解构数组中的部分元素</span></span><br><span class="line"><span class="keyword">let</span> arr:string[] = [<span class="string">&quot;one&quot;</span>,<span class="string">&quot;two&quot;</span>,<span class="string">&quot;three&quot;</span>,<span class="string">&quot;four&quot;</span>];</span><br><span class="line"><span class="comment">//开始位置</span></span><br><span class="line"><span class="keyword">let</span> [first] = arr;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;first = &quot;</span> + first); <span class="comment">//first = one</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//结尾位置</span></span><br><span class="line"><span class="keyword">let</span> [,,,last] = arr;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;last = &quot;</span> + last); <span class="comment">//last = four</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//指定位置（提取数组中第一个元素赋值给a,第三个元素赋值给c）</span></span><br><span class="line"><span class="keyword">let</span> [a,,c,] = arr;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;a = &quot;</span> + a + <span class="string">&quot; c = &quot;</span> + c); <span class="comment">//a = one c = three</span></span><br></pre></td></tr></table></figure>

<p><strong>解构对象</strong></p>
<p>除了解构数组外，我们还能够以同样的方式来提取对象中的属性值赋值给声明的同名变量，下面给出代码示例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//文件路径 ../04-解构和展开/02-解构对象.ts</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//[001] 解构对象简单介绍</span></span><br><span class="line"><span class="keyword">let</span> objM:any = &#123;<span class="attr">author</span>:<span class="string">&quot;文顶顶&quot;</span>,<span class="attr">address</span>:<span class="string">&quot;wendingding.com&quot;</span>,<span class="attr">age</span>:<span class="number">18</span>,<span class="attr">color</span>:<span class="string">&quot;red&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> &#123;author,age,address&#125; = objM;</span><br><span class="line"></span><br><span class="line"><span class="comment">//解构的顺序并不重要</span></span><br><span class="line"><span class="comment">//let &#123;author,address,age&#125; = objM;  </span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;author = &quot;</span>+author);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;age = &quot;</span>+age);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;address = &quot;</span>+address);</span><br><span class="line"></span><br><span class="line"><span class="comment">//解构对象的操作说白就就是通过指定的key到对象中取值</span></span><br><span class="line"><span class="comment">//let &#123;author,age,address&#125; = objM;代码和下面的代码等价</span></span><br><span class="line"><span class="keyword">var</span> author = objM.author, age = objM.age, address = objM.address;</span><br></pre></td></tr></table></figure>
<div class='tip'>**注意:** 因为对象和数组组织数据的方式不太一样，对象在存储数据的时候是以键值对（key-value）的方式处理，所以<span style='color:#195'>我们在解构对象的时候，声明的变量需要和对象中待提取的键值对同名,顺序关系并不重要</span>。</div>

<p>对象在解构的时候要求声明的变量和提取的对象属性同名，但是在业务场景中我们可能希望声明新的变量（即不使用属性的同名变量），这种情况需要在解构的时候进行重命名操作。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//[002] 对象解构属性重命名</span></span><br><span class="line"><span class="keyword">let</span> obj:any = &#123;<span class="attr">className</span>:<span class="string">&quot;软件工程&quot;</span>,<span class="attr">classNumber</span>:<span class="string">&quot;软件工程_02&quot;</span>,<span class="attr">date</span>:<span class="string">&quot;2016-09-01&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在解构对象的时候，支持重命名的方式</span></span><br><span class="line"><span class="keyword">let</span> &#123;className,<span class="attr">classNumber</span>:classNO,<span class="attr">date</span>:classDate&#125; = obj;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;班级名称 className = &quot;</span> + className); <span class="comment">//班级名称 className = 软件工程</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;班级编号 classNO = &quot;</span> + classNo);     <span class="comment">//班级编号 classNO = 软件工程_02</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;开学日期 classDate = &quot;</span> + classDate); <span class="comment">//开学日期 classDate = 2016-09-01</span></span><br></pre></td></tr></table></figure>
<p>上面的代码中，在解构对象obj的时候，classNumber被重命名为classNO，date被重命名为classDate，需要注意的是重命名后，classNumber和date均不能使用。此外，对象解构的时候还支持对没使用关键字声明的变量解构以及静态类型声明。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//[003] 支持使用字面量对象来解构赋值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a:string;</span><br><span class="line"><span class="keyword">let</span> b:string;</span><br><span class="line">(&#123;a , b &#125; = &#123;<span class="attr">a</span>:<span class="string">&quot;我是A&quot;</span>,<span class="attr">b</span>:<span class="string">&quot;我是B&quot;</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;a = &quot;</span> + a);  <span class="comment">//a = 我是A</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;b = &quot;</span> + b);  <span class="comment">//b = 我是B</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//[004]支持对变量进行类型声明</span></span><br><span class="line"><span class="keyword">let</span> o = &#123;<span class="string">&quot;des&quot;</span>:<span class="string">&quot;描述信息&quot;</span>,<span class="string">&quot;num&quot;</span>:<span class="number">20</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> &#123;des, num&#125;: &#123;<span class="attr">a</span>: string, <span class="attr">b</span>: number&#125; = o;</span><br><span class="line"><span class="built_in">console</span>.log(des);   <span class="comment">//描述信息</span></span><br><span class="line"><span class="built_in">console</span>.log(num);   <span class="comment">//20</span></span><br></pre></td></tr></table></figure>
<div class='tip'>**注意:**`({a , b } = {a:"我是A",b:"我是B"})`外层必须要加上（），因为JavaScript在解析的时候通常把 { 起始的语句解析为一个块。</div>

<p><strong>交换变量和设置默认值</strong></p>
<p>TypeScript中的解构特性为我们提供了一种方便的交换两个变量值的机制。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//[001] 交换变量</span></span><br><span class="line"><span class="keyword">let</span> first:string = <span class="string">&quot;我是第一个_first&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> last:string = <span class="string">&quot;我是最后一个_last&quot;</span>;</span><br><span class="line"></span><br><span class="line">[first , last] = [last,first];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;first =&gt;&quot;</span> + first);  <span class="comment">//first =&gt;我是最后一个_last</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;last  =&gt;&quot;</span> + last);   <span class="comment">//last  =&gt;我是第一个_first</span></span><br></pre></td></tr></table></figure>
<p><strong>说明</strong>：交换变量在具体处理的时候，会生成一个内部的临时变量(请参考编译成JavaScript后的代码)。</p>
<p>为了有效防止从数组或对象中取出一个值为undefined的数据，我们可以在解构的时候为它们设置默认值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//[002] 解构数组或对象的时候设置默认值</span></span><br><span class="line"><span class="keyword">let</span> [a,b = <span class="number">20</span>,c] = [<span class="number">10</span>];  <span class="comment">//解构操作</span></span><br><span class="line"><span class="built_in">console</span>.log(a,b,c);       <span class="comment">//10 20 undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> color,age;</span><br><span class="line">(&#123;color = <span class="string">&quot;yellow&quot;</span>,age&#125; = &#123;<span class="attr">age</span>:<span class="number">18</span>,<span class="attr">color</span>:<span class="literal">undefined</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(color);   <span class="comment">//yellow</span></span><br><span class="line"><span class="built_in">console</span>.log(age);     <span class="comment">//18</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//解构对象的时候重命名属性并设置默认值</span></span><br><span class="line"><span class="keyword">var</span> &#123;<span class="attr">one</span>:_one = <span class="string">&quot;哈哈哈&quot;</span>, <span class="attr">two</span>:_two = <span class="string">&quot;嘿嘿&quot;</span>&#125; = &#123;<span class="attr">one</span>:<span class="string">&quot;我是one&quot;</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(_one);    <span class="comment">// 我是one</span></span><br><span class="line"><span class="built_in">console</span>.log(_two);    <span class="comment">// 嘿嘿</span></span><br></pre></td></tr></table></figure>
<p>观察上面的代码，数组中只有一个元素，对象中的color属性对应的值为undefined，我们可以通过在解构的代码中为变量设置默认值的方式来避免取出的值为undefined，其逻辑是：<span style='color:#195'>如果解构提取的值非undefined那么就使用，如果是undefined，则检查该变量是否设置默认值，若有则使用</span>。</p>
<p><strong>解构用于函数参数</strong></p>
<p>解构除用于对象和数组外，还能作用于函数参数，如果函数调用时候可能缺省部分参数，那么还可以设置默认值增加函数的健壮性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//文件路径 ../04-解构和展开/03-解构用于函数参数.ts</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//[001] 解构用于函数参数(数组)</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">x</span>(<span class="params">[first, second]: [number, number]</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(first);   <span class="comment">//1</span></span><br><span class="line">    <span class="built_in">console</span>.log(second);  <span class="comment">//2</span></span><br><span class="line">&#125;</span><br><span class="line">x([<span class="number">1</span>,<span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">//[002] 解构用于函数参数(对象)</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">&#123; a, b &#125;: &#123; a: string, b?: number &#125;</span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;执行函数&quot;</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;a的值为: &quot;</span> + a,<span class="string">&quot;b的值为: &quot;</span> + b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f(&#123;<span class="attr">a</span>:<span class="string">&quot;AAAA&quot;</span>,<span class="attr">b</span>:<span class="number">20</span>&#125;);   <span class="comment">//a的值为: AAAA b的值为: 20</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*****=======================******/</span></span><br><span class="line"><span class="comment">//[003]解构用于函数参数并设置默认值</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">t</span>(<span class="params">&#123; color, age = <span class="number">99</span> &#125;: &#123; color: string, age?: number &#125;</span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;color的值为: &quot;</span> + color,<span class="string">&quot;age的值为: &quot;</span> + age);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">t(&#123;<span class="attr">color</span>:<span class="string">&quot;red&quot;</span>,<span class="attr">age</span>:<span class="number">20</span>&#125;);  <span class="comment">//color的值为: red age的值为: 20</span></span><br><span class="line">t(&#123;<span class="attr">color</span>:<span class="string">&quot;red&quot;</span>&#125;);         <span class="comment">//color的值为: red age的值为: 99</span></span><br></pre></td></tr></table></figure>
<p><strong>剩余模式(…语法)</strong></p>
<p>解构特性支持剩余模式也就是<code>...语法</code>，这种模式能够帮助我们将剩余的数组元素或者是对象内容赋值给一个变量。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//文件路径 ../04-解构和展开/04-剩余模式.ts</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//将数组中除了前两个之外的元素（剩余的元素）赋值给c</span></span><br><span class="line"><span class="keyword">let</span> [a,b, ...c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">8</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(b); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(c); <span class="comment">// [3,4,8]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//剩余模式用于对象解构</span></span><br><span class="line"><span class="keyword">let</span> o = &#123;<span class="attr">testA</span>:<span class="string">&quot;我是A&quot;</span>,<span class="attr">testB</span>:<span class="string">&quot;我是B&quot;</span>,<span class="attr">testC</span>:<span class="string">&quot;我是C&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> &#123; testA, ...passthrough &#125; = o;</span><br><span class="line"><span class="built_in">console</span>.log(testA);       <span class="comment">// 我是A</span></span><br><span class="line"><span class="built_in">console</span>.log(passthrough); <span class="comment">// &#123;testB:&quot;我是B&quot;,testC:&quot;我是C&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//报错: A rest parameter or binding pattern may not have a trailing comma.</span></span><br><span class="line"><span class="comment">//let &#123; testB, ...Other,&#125; = o;  //错误的演示</span></span><br></pre></td></tr></table></figure>

<div class='tip'>**特别注意**：剩余元素必须是数组的最后一个元素，如果剩余元素右侧有一个逗号，则会抛出SyntaxError错误。</div>

<p><strong>数组和对象的展开操作</strong></p>
<p>展开操作与解构操作刚好相反。<span style='color:red'>展开操作它允许我们将数组展开为另一个数组，或将对象展开为另一个对象。</span></p>
<p>在操作数组的时候展开操作会对指定的数组执行浅拷贝，它们本身并不会因展开操作被修改。对象的展开操作和数组相比略显不同，虽然它和数组展开操作一样也是从左至右进行处理的，但因为其处理的结果仍然是对象，而对象中要求所有的key都具有唯一性，所以这也就意味着在<span style='color:#195'>对象的展开操作可能存在属性覆盖的问题</span>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//文件路径 ../04-解构和展开/06-数组和对象的展开操作.ts</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//[001] 数组的展开操作</span></span><br><span class="line"><span class="keyword">let</span> one:number[] = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">let</span> two:number[] = [<span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> resultArrM = [<span class="number">0</span>, ...one, ...two, <span class="number">5</span>];</span><br><span class="line"><span class="built_in">console</span>.log(one);   <span class="comment">//[1,2]</span></span><br><span class="line"><span class="built_in">console</span>.log(two);   <span class="comment">//[3,4]</span></span><br><span class="line"><span class="built_in">console</span>.log(resultArrM);  <span class="comment">//[0,1,2,3,4,5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//[002] 对象的展开操作</span></span><br><span class="line"><span class="keyword">let</span> defaultObj = &#123; <span class="attr">name</span>: <span class="string">&quot;zhangsan&quot;</span>, <span class="attr">age</span>: <span class="number">18</span>,<span class="attr">color</span>: <span class="string">&quot;yellow&quot;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> targetObj = &#123; ...defaultObj, <span class="attr">des</span>:<span class="string">&quot;描述信息&quot;</span>,<span class="attr">name</span>: <span class="string">&quot;文顶顶&quot;</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(defaultObj);  <span class="comment">//&#123; name: &quot;zhangsan&quot;, age: 18,color: &quot;yellow&quot; &#125;;</span></span><br><span class="line"><span class="built_in">console</span>.log(targetObj);   <span class="comment">//&#123; name: &quot;文顶顶&quot;, age: 18,color: &quot;yellow&quot;,des:&quot;描述信息&quot;&#125;;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>注意</strong> 对象的展开操作存在限制情况</p>
<p>首先，它仅包含对象自身的可枚举属性（不包括原型成员）。<br>其次，TypeScript编译器不允许展开泛型函数上的类型参数。</p>
</blockquote>
<h3 id="函数说明"><a href="#函数说明" class="headerlink" title="函数说明"></a>函数说明</h3><p>TypeScript语言中的函数在JavaScript函数基础上增加了参数类型声明、返回值类型指定、箭头函数等特征，这里简单介绍。</p>
<p><strong>指定参数和返回值类型</strong></p>
<p>同JavaScript一样，我们可以用函数声明的方式或函数表达式的方式来创建得到一个函数对象，<span style='color:#195'>在定义（声明）函数的时候，我们可以选择性的给函数的参数加上类型，也可以指定函数返回值的类型</span>。如果指定了类型，那么TypeScript会进行类型检查。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//文件路径 ../05-函数说明/01-函数简单说明.ts</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//[001] javaScript风格的函数（声明函数）</span></span><br><span class="line"><span class="comment">//下面的代码以“函数声明”的方式创建了add函数</span></span><br><span class="line"><span class="comment">//add函数拥有两个参数，形参a和形参b</span></span><br><span class="line"><span class="comment">//add函数的作用为对传入的两个参数进行+运算符计算，并返回结果</span></span><br><span class="line"><span class="comment">//如果设计的该函数只能接收number类型的两个参数，那么函数体中还应该对参数类型进行校验</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//[002] TypeScript中的函数（声明函数）</span></span><br><span class="line"><span class="comment">//f1函数接收两个参数，并指定了参数的类型均为number</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">a:number,b:number</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//函数调用</span></span><br><span class="line"><span class="keyword">let</span> result = f1(<span class="number">10</span>,<span class="number">20</span>);    <span class="comment">//返回结果为30</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//报错：Argument of type &#x27;&quot;字符串&quot;&#x27; is not assignable to parameter of type &#x27;number&#x27;.</span></span><br><span class="line"><span class="comment">//result = f1(10,&quot;字符串&quot;);  错误的演示</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//[003] TypeScript中的函数（匿名函数|函数表达式）</span></span><br><span class="line"><span class="comment">//f2函数的指定了返回值类型为number</span></span><br><span class="line"><span class="keyword">let</span> f2 = <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">a:number,b:number</span>) : <span class="title">number</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">f2(<span class="number">100</span>,<span class="number">200</span>);    <span class="comment">//300</span></span><br></pre></td></tr></table></figure>
<p><strong>箭头函数</strong></p>
<p>TypeScript遵循ES6的规范，提供了表示函数的另外一种方式即<code>箭头函数</code>。箭头函数最典型的特征是在创建函数的时候<code>在函数返回值类型的后面加上箭头(=&gt;)操作符</code>而并不使用function关键字。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//文件路径 ../05-函数说明/02-箭头函数.ts</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 这是TypeScript中典型的普通函数，下面提供等价的箭头函数代码</span></span><br><span class="line"><span class="comment">let add = function (a:number,b:number) : number&#123;</span></span><br><span class="line"><span class="comment">  return a + b;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> add = (a:number,<span class="attr">b</span>:number) :<span class="function"><span class="params">number</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add(<span class="number">10</span>,<span class="number">200</span>);  <span class="comment">//210</span></span><br></pre></td></tr></table></figure>
<p>接下来我们给出一个高阶函数的例子，所谓高阶函数指的是参数或返回值也是函数的函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sume = (a:number,<span class="attr">b</span>:number,<span class="attr">callBack</span>:<span class="function">(<span class="params">result:number</span>) =&gt;</span> <span class="keyword">void</span>) : <span class="function"><span class="params">void</span> =&gt;</span>&#123;</span><br><span class="line">  callBack(a +b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">sume(<span class="number">10</span>,<span class="number">20</span>,(result:number) : <span class="function"><span class="params">void</span> =&gt;</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;result = &quot;</span> + result)；</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出结果为：result = 30</span></span><br></pre></td></tr></table></figure>
<p>代码稍微有点复杂，简单来说，<span style='color:#195'>我们声明了两个函数，其中一个是sume匿名函数，另外一个是调用sume时作为参数传递给sume的匿名函数，这两个函数均使用箭头函数表示法</span>。</p>
<p>作为参数传递给sume的匿名函数需要接受一个number类型的参数（形参为result），没有返回值。而sume这个函数需要接受三个参数，其中前两个参数是number类型的值（形参a和b）, 第三个参数为函数（形参为callBack）。</p>
<p>需要注意的是<code>(result:number) =&gt; void</code>为<strong>作为参数的匿名函数</strong>的类型。</p>
<p>通过下面的图示，可以加深大家对箭头函数的理解。<br><img src='../../../../src/typeScript_00.png'><br>（函数声明图示）<br><img src='../../../../src/typeScript_02.png'><br>（函数调用图示）</p>
<h3 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h3><p><strong>命名空间</strong>，在以前也称为内部模块。命名空间主要用来把一些存在内在联系的变量、类、接口以及对象等代码组织起来。使用命名空间来组织代码，可以让代码的整体结构更清晰，而且通过把某些相关联的代码包裹起来放在一个命名空间内，而不是暴露在全局命名空间中可以避免命名冲突。</p>
<p>在TypeScript中，可以通过namespace关键字来声明命名空间，其语法格式为<code>namespace 命名空间的名称&#123; //.......被包裹的代码块&#125;</code>。命名空间中的代码无法被外界直接访问，如果外界需要访问可以通过<code>export</code>关键字来暴露接口。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a:string = <span class="string">&quot;全局作用域中的变量&quot;</span>;</span><br><span class="line"></span><br><span class="line">namespace WenDemo&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> a:string = <span class="string">&quot;命名空间WenDemo中的变量a&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//接口</span></span><br><span class="line">  interface PersonInterface &#123;</span><br><span class="line">      <span class="attr">name</span>: string;</span><br><span class="line">      getInfo();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//实现了PersonInterface接口的Person类</span></span><br><span class="line">  <span class="comment">//通过export关键字暴露接口</span></span><br><span class="line">  <span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="title">implements</span> <span class="title">PersonInterface</span></span>&#123;</span><br><span class="line">    <span class="attr">name</span>:string;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name:string</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">getInfo</span>(<span class="params"></span>)</span>&#123;      <span class="comment">//getInfo方法</span></span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;姓名：&quot;</span> + <span class="built_in">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//错误的演示</span></span><br><span class="line"><span class="comment">//let p = new Person(&quot;wendingding.com&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果把相关代码包裹到指定命名空间中，那么需要通过包裹的命名空间来访问暴露的接口</span></span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> WenDemo.Person(<span class="string">&quot;wendingding.com&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p);   <span class="comment">//&#123;name:&quot;wendingding.com&quot;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(a);   <span class="comment">//全局作用域中的变量</span></span><br></pre></td></tr></table></figure>
<p> 把上面TypeScript代码编译为JavaScript的代码，我们可以发现<span style='color:red'>命名空间实现的机制非常简单，只是使用了立即调用函数（闭包）包裹代码</span>而已，下面贴出JavaScript对应的代码。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;全局作用域中的变量&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> WenDemo;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params">WenDemo</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">&quot;命名空间WenDemo中的变量a&quot;</span>;</span><br><span class="line">    <span class="comment">//实现了PersonInterface接口的Person类</span></span><br><span class="line">    <span class="comment">//通过export关键字暴露接口</span></span><br><span class="line">    <span class="keyword">var</span> Person = <span class="comment">/** <span class="doctag">@class </span>*/</span> (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.name = name;</span><br><span class="line">        &#125;</span><br><span class="line">        Person.prototype.getInfo = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;姓名：&quot;</span> + <span class="built_in">this</span>.name;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> Person;</span><br><span class="line">    &#125;());</span><br><span class="line">    WenDemo.Person = Person;</span><br><span class="line">&#125;)(WenDemo || (WenDemo = &#123;&#125;));</span><br><span class="line"><span class="comment">//错误的演示</span></span><br><span class="line"><span class="comment">//let p = new Person(&quot;wendingding.com&quot;);</span></span><br><span class="line"><span class="comment">//如果把相关代码包裹到指定命名空间中，那么需要通过包裹的命名空间来访问暴露的接口</span></span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> WenDemo.Person(<span class="string">&quot;wendingding.com&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p); <span class="comment">//&#123;name:&quot;wendingding.com&quot;&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//全局作用域中的变量</span></span><br></pre></td></tr></table></figure>

<p>备注：该文章所有的示例代码均可以<a target="_blank" rel="noopener" href="https://github.com/flowerField/TypeScript-Demo">点击在Github托管仓库获取</a></p>
<hr>
<ul>
<li>Posted by 博客园·<a target="_blank" rel="noopener" href="http://www.cnblogs.com/wendingding/">文顶顶</a> | <a target="_blank" rel="noopener" href="http://wendingding.com/">花田半亩</a></li>
<li>联系作者 简书·<a target="_blank" rel="noopener" href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&mod=TAB#place">Coder_文顶顶</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a target="_blank" rel="noopener" href="http://www.cnblogs.com/wendingding/">文顶顶</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2018/06/23/TypeScript%E7%B3%BB%E5%88%97%20%5B05%5D-typeScript%E8%AF%AD%E8%A8%80%E7%89%B9%E6%80%A7(%E5%9B%9B)/" class="prev">上一篇</a><a href="/2018/06/20/TypeScript%E7%B3%BB%E5%88%97%20%5B03%5D-typeScript%E8%AF%AD%E8%A8%80%E7%89%B9%E6%80%A7(%E4%BA%8C)/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2022 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计 422.4k (字)</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>