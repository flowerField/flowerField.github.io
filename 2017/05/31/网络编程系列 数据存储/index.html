<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 网络编程系列 store · 花田半亩</title><meta name="description" content="网络编程系列 store - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="花田半亩" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="https://github.com/flowerField" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">网络编程系列 store</h1><div class="post-info">May 31, 2017<span class="post-count"></span> ✧ 字数统计:1.9k(字) &nbsp;&nbsp; ♨︎ 阅读时长:8(分钟)</div><div class="post-content"><div class='titleX'>**数据存储技术(Cookie)简单介绍**</div>

<p>web存储相关的技术：<code>cookie | sessionStorage | localStorage | 应用缓存</code><br>cookie是一种会话跟踪技术，用于在进行网页访问的时候，存储页面中的某些数据信息。</p>
<p><strong>cookie的使用注意点</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">001 使用cookie来进行数据存储的大小有限制，4KB</span><br><span class="line">002 每个网页中存储cookie的个数（最多50）和每个网站中存储cookie的个数都有限制（200）</span><br><span class="line">003 各个不同的浏览器对cookie的数量也不相同</span><br><span class="line"></span><br><span class="line">    IE6.0：每个域为20个，大小为4095个字节</span><br><span class="line">    IE7.0/8.0：每个域为50个 ，大小为4095个字节</span><br><span class="line">    Opera：每个域为30个 ，4096个字节</span><br><span class="line">    FF：每个域为50个  ，大小为4097个字节</span><br><span class="line">    Safari：没有个数限制，大小为4097个字节</span><br><span class="line">    Chrome：每个域为53个，大小为4097个字节</span><br><span class="line">    总结：在进行页面cookie操作的时候，应该尽量保证cookie个数小于20个，总大小 小于4KB</span><br><span class="line"></span><br><span class="line">004 cookie数据的过期时间</span><br><span class="line"></span><br><span class="line">    1）默认情况下，cookie存储的内容是一次性的，它的有效期间是当前会话（需要把整个浏览器都关闭会话就结束）</span><br><span class="line">    2）设置过期时间：通过expires=time;的格式来进行指定设置之后没超过过期时间则数据一直在。</span><br><span class="line"></span><br><span class="line">005 cookie是不可以跨浏览器的(在IE中保存的cookie, 不可以在火狐中使用)</span><br><span class="line"></span><br><span class="line">006 cookie是不可以跨域的(跨域名)</span><br><span class="line">    示例：127.0.0.1/code/test.html 和127.0.0.1/code/test1.html可以访问</span><br><span class="line"></span><br><span class="line">    网络请求的常见路径：</span><br><span class="line">        http://www.baidu.com:80/资源</span><br><span class="line">        协议://域名.后缀:端口号/资源</span><br><span class="line"></span><br><span class="line">    不能跨域的含义：就是只有 （协议+域名+后缀+端口）号都相同才能相互访问</span><br><span class="line"></span><br><span class="line">        http://www.baidu.com:80/a.html</span><br><span class="line">        http://www.baidu.com:80/b.html  能</span><br><span class="line"></span><br><span class="line">        http://www.baidu.com:81/a.html</span><br><span class="line">        http://www.baidu.com:80/b.html 不能（端口号不相同）</span><br><span class="line"></span><br><span class="line">        http://mp3.baidu.com:80/a.html</span><br><span class="line">        http://map.baidu.com:80/b.html 不能（二级域名不相同）</span><br><span class="line"></span><br><span class="line">        https://www.baidu.com:80/a.html</span><br><span class="line">        http://www.baidu.com:80/b.html 不能（协议不相同）</span><br><span class="line"></span><br><span class="line">        http://www.bdu.com:80/a.html</span><br><span class="line">        http://www.dbu.com:80/b.html 不能（以及域名不相同）</span><br></pre></td></tr></table></figure>
<div class='titleX'>**Cookie的设置和使用**</div>

<p> <strong>设置方法</strong></p>
<p>设置cookie数据：<code>document.cookie = &quot;name=zhangsan&quot;;</code><br>设置cookie数据和过期的时间：<code>document.cookie = &quot;name=zhangsan; expires=&quot;+date+&quot;;&quot;;</code><br>过期7天的设置：<code>var date = new Date();</code> // date.setDate(date.getDate() + 7);</p>
<p><strong>使用注意</strong></p>
<p>在设置cookie的时候，一次只能设置一个数据（一个键值对），不能进行批量设置<br>错误的演示：<code>window.cookie = &quot;name=zhangsan&amp;age=18&quot;;</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">//设置三个cookie的值，默认的过期时间是seesion（会话内）</span></span><br><span class="line">    <span class="built_in">document</span>.cookie = <span class="string">&quot;name=wendingding&quot;</span>;</span><br><span class="line">    <span class="built_in">document</span>.cookie = <span class="string">&quot;age=18&quot;</span>;</span><br><span class="line">    <span class="built_in">document</span>.cookie = <span class="string">&quot;des=12345&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置cookie的值，并指定过期的时间</span></span><br><span class="line">    <span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">    date.setDate(date.getDate() + <span class="number">3</span>);   <span class="comment">//3天的过期时间</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//注意：在设置过期时间的时候，中间使用；分隔开发</span></span><br><span class="line">    <span class="built_in">document</span>.cookie = <span class="string">&quot;color=red;expires=&quot;</span>+date;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//删除cookie</span></span><br><span class="line">    <span class="comment">//删除cookie的原理：只要过期时间超过了当前的时间, 数据就会被删除</span></span><br><span class="line">    date.setDate(date.getDate() + -<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">document</span>.cookie = <span class="string">&quot;age=18; expires=&quot;</span>+date+<span class="string">&quot;;&quot;</span>;</span><br><span class="line"><span class="string">``</span><span class="string">``</span></span><br><span class="line">**Cookie操作的封装**</span><br><span class="line"><span class="string">``</span><span class="string">`JavaScript</span></span><br><span class="line"><span class="string">    let Cookie = &#123;</span></span><br><span class="line"><span class="string">            getItem(name) &#123;</span></span><br><span class="line"><span class="string">                let cookies = document.cookie.split(&quot;; &quot;);</span></span><br><span class="line"><span class="string">                for (let i = 0; i &lt; cookies.length; i++) &#123;</span></span><br><span class="line"><span class="string">                    let arr = cookies[i].split(&quot;=&quot;);</span></span><br><span class="line"><span class="string">                    if (name == arr[0]) return arr[1];</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">            setItem(name, value, days) &#123;</span></span><br><span class="line"><span class="string">                if (days) &#123;</span></span><br><span class="line"><span class="string">                    var date = new Date();</span></span><br><span class="line"><span class="string">                    date.setDate(date.getDate() + days);</span></span><br><span class="line"><span class="string">                    document.cookie = `</span>$&#123;name&#125;=$&#123;value&#125;;expires=$&#123;date&#125;<span class="string">`;</span></span><br><span class="line"><span class="string">                &#125; else &#123;</span></span><br><span class="line"><span class="string">                    document.cookie = `</span>$&#123;name&#125;=$&#123;value&#125;<span class="string">`;</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">            removeItem(name) &#123;</span></span><br><span class="line"><span class="string">                this.setItem(name, null, -1);</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">            hasItem(name) &#123;</span></span><br><span class="line"><span class="string">                let keys = this.keys();</span></span><br><span class="line"><span class="string">                let flas = false;</span></span><br><span class="line"><span class="string">                if (keys) &#123;</span></span><br><span class="line"><span class="string">                    flas = keys.includes(name);</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">                return flas;</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">            clear() &#123;</span></span><br><span class="line"><span class="string">                let keys = this.keys();</span></span><br><span class="line"><span class="string">                keys.forEach(ele =&gt; &#123;</span></span><br><span class="line"><span class="string">                    this.removeItem(ele);</span></span><br><span class="line"><span class="string">                &#125;)</span></span><br><span class="line"><span class="string">            &#125;,</span></span><br><span class="line"><span class="string">            keys() &#123;</span></span><br><span class="line"><span class="string">                let result = [];</span></span><br><span class="line"><span class="string">                let cookies = document.cookie.split(&quot;; &quot;);</span></span><br><span class="line"><span class="string">                cookies.forEach(ele =&gt; &#123;</span></span><br><span class="line"><span class="string">                    let arr = ele.split(&quot;=&quot;);</span></span><br><span class="line"><span class="string">                    result.push(arr[0]);</span></span><br><span class="line"><span class="string">                &#125;);</span></span><br><span class="line"><span class="string">                return result;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br></pre></td></tr></table></figure>

<div class='titleX'>**sessionStorage技术简单介绍**</div>

<p>（1）在存储用户数据的时候，因为cookie可以存储的数据比较小才4KB左右，所以也可以考虑使用<code>sessionStorage</code>来存储，大小限制为2M左右<br>（2）该技术和localStorage是h5推出的，因此在使用的时候，需要考虑到兼容性的问题<br>（3）相关资料：<a target="_blank" rel="noopener" href="http://www.w3school.com.cn/html5/html_5_webstorage.asp">http://www.w3school.com.cn/html5/html_5_webstorage.asp</a><br>（4）简单介绍和使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">001 sessionStorage：会话存储技术（session-会话）</span><br><span class="line">002 该技术和cookie一样，一样浏览器退出了，那么保存的数据就会</span><br><span class="line">003 sessionStorage技术的相关操作：添加|获取|更新|删除|清空</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn1&quot;</span>&gt;</span>添加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn2&quot;</span>&gt;</span>获取<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn3&quot;</span>&gt;</span>更新<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn4&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn5&quot;</span>&gt;</span>清空<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.sessionStorage.setItem(<span class="string">&quot;age&quot;</span>,<span class="string">&quot;18&quot;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.sessionStorage.setItem(<span class="string">&quot;color&quot;</span>,<span class="string">&quot;red&quot;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.sessionStorage.setItem(<span class="string">&quot;des&quot;</span>,<span class="string">&quot;no des&quot;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> oInput = <span class="built_in">document</span>.querySelector(<span class="string">&quot;input&quot;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> oBtn1 = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.btn1&quot;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    oBtn1.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//添加操作</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.sessionStorage.setItem(<span class="string">&quot;name&quot;</span>,oInput.value);</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> oBtn2 = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.btn2&quot;</span>);</span></span><br><span class="line"><span class="javascript">    oBtn2.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//获取操作</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">window</span>.sessionStorage.getItem(<span class="string">&quot;name&quot;</span>));</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> oBtn3 = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.btn3&quot;</span>);</span></span><br><span class="line"><span class="javascript">    oBtn3.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//更新操作</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.sessionStorage.setItem(<span class="string">&quot;name&quot;</span>,oInput.value);</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> oBtn4 = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.btn4&quot;</span>);</span></span><br><span class="line"><span class="javascript">    oBtn4.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//删除操作</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.sessionStorage.removeItem(<span class="string">&quot;name&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> oBtn5 = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.btn5&quot;</span>);</span></span><br><span class="line"><span class="javascript">    oBtn5.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//清空操作</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.sessionStorage.clear();</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<div class='titleX'>**localStorage技术简单介绍**</div>

<p>（1）简单对比：保存在本地 + 没有时间限制<br>（2）大小比较：4K(cookie) - 5M(sessionStorage) - 20M(localStorage)<br>（3）使用方式和sessionStorage相同<br> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn1&quot;</span>&gt;</span>添加<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn2&quot;</span>&gt;</span>获取<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn3&quot;</span>&gt;</span>更新<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn4&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn5&quot;</span>&gt;</span>清空<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.localStorage.setItem(<span class="string">&quot;age&quot;</span>,<span class="string">&quot;18&quot;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.localStorage.setItem(<span class="string">&quot;color&quot;</span>,<span class="string">&quot;red&quot;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.localStorage.setItem(<span class="string">&quot;des&quot;</span>,<span class="string">&quot;no des&quot;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> oInput = <span class="built_in">document</span>.querySelector(<span class="string">&quot;input&quot;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> oBtn1 = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.btn1&quot;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    oBtn1.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//添加操作</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.localStorage.setItem(<span class="string">&quot;name&quot;</span>,oInput.value);</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> oBtn2 = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.btn2&quot;</span>);</span></span><br><span class="line"><span class="javascript">    oBtn2.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//获取操作</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">window</span>.localStorage.getItem(<span class="string">&quot;name&quot;</span>));</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> oBtn3 = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.btn3&quot;</span>);</span></span><br><span class="line"><span class="javascript">    oBtn3.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//更新操作</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.localStorage.setItem(<span class="string">&quot;name&quot;</span>,oInput.value);</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> oBtn4 = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.btn4&quot;</span>);</span></span><br><span class="line"><span class="javascript">    oBtn4.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//删除操作</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.localStorage.removeItem(<span class="string">&quot;name&quot;</span>);</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> oBtn5 = <span class="built_in">document</span>.querySelector(<span class="string">&quot;.btn5&quot;</span>);</span></span><br><span class="line"><span class="javascript">    oBtn5.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//清空操作</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">window</span>.localStorage.clear();</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<div class='titleX'>**应用程序缓存简单介绍**</div>
 
<p><strong>简单介绍</strong>：h5推出的应用程序缓存，可以对Web页面进行缓存，并且可以在没有网络的情况下进行访问，所有主流浏览器均支持应用程序缓存，除了 Internet Explorer，主要优点<br> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1）支持离线浏览（没有网络的情况下依然可以查看）</span><br><span class="line">2）速度更快，性能更好（使用缓存文件可以提高访问的速度）</span><br><span class="line">3）减轻服务器端的压力 - 浏览器将只从服务器下载更新过或更改过的资源</span><br></pre></td></tr></table></figure><br><strong>代码和配置文件演示</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1）在页面中加载资源文件（图片），调试工具窗口选择（none network）表示网络无法连接</span><br><span class="line">2）新创建xx.appcache文件，在该文件配置要缓存的内容</span><br><span class="line">3）设置html页面中的manifest属性为配置文件路径</span><br><span class="line"></span><br><span class="line">    CACHE MANIFEST</span><br><span class="line"> </span><br><span class="line">    CACHE:</span><br><span class="line">    # 需要缓存的列表</span><br><span class="line">    0.jpg</span><br><span class="line"> </span><br><span class="line">    NETWORK:</span><br><span class="line">    # 不需要缓存的</span><br><span class="line">    1.jpg</span><br><span class="line"> </span><br><span class="line">    FALLBACK:</span><br><span class="line">    # 访问缓存失败后，备用访问的资源</span><br></pre></td></tr></table></figure></div></article></div></main><footer><div class="paginator"><a href="/2017/08/10/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0%20%5B000%5D-%E9%87%91%E7%8E%89%E8%89%AF%E8%A8%80/" class="prev">上一篇</a><a href="/2017/05/23/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6%E7%B3%BB%E5%88%97%20%E5%8A%A8%E6%80%81%E5%93%8D%E5%BA%94%E5%92%8C%E7%BB%91%E5%AE%9A/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2022 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计 420.5k (字)</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>