<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> HTML5标签系列 video标签 · 花田半亩</title><meta name="description" content="HTML5标签系列 video标签 - 文顶顶"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/logo.jpeg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://weibo.com/u/3800117445/atom.xml" title="花田半亩"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="花田半亩" type="application/atom+xml">
</head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">文顶顶</a></li><li class="nav-list-item"><a href="/tags/" target="_self" class="nav-list-link">标签</a></li><li class="nav-list-item"><a href="https://www.cnblogs.com/wendingding/" target="_blank" class="nav-list-link">博客园</a></li><li class="nav-list-item"><a href="https://github.com/flowerField" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">HTML5标签系列 video标签</h1><div class="post-info">Jan 1, 2016<span class="post-count"></span> ✧ 字数统计:1.8k(字) &nbsp;&nbsp; ♨︎ 阅读时长:7(分钟)</div><div class="post-content"><blockquote>
<p>本文简单介绍HTML5中的video标签，包括video元素的简单介绍、基本使用以及常用事件和属性。</p>
</blockquote>
<h3 id="简单介绍"><a href="#简单介绍" class="headerlink" title="简单介绍"></a>简单介绍</h3><p>HTML5 规定了一种通过 Video 元素来包含视频的标准方法。</p>
<p>Video标签用于在浏览器中提供视频控件来播放视频，示例为：<code>&lt;video src=&quot;movie.ogg&quot; controls=&quot;controls&quot;&gt;&lt;/video&gt;</code>,其中controls 属性提供添加<strong>播放</strong>、<strong>暂停</strong>和<strong>音量</strong>等控制，如果当前浏览器不支持video元素则显示video标签之间的内容。</p>
<p><strong>video标签的主要属性</strong></p>
<p><span class='prop'>height</span>    约束视频的高度。<br><span class='prop'>src</span>       规定要播放的视频的 URL。<br><span class='prop'>autoplay</span>  规定视频就绪后马上开始播放（自动播放视频）。<br><span class='prop'>width</span>     约束视频的宽度。（<strong>注意</strong>：<code>无法通过缩小视频的宽高来压缩视频</code>）<br><span class='prop'>loop</span>      规定当视频结束后将重新开始播放 , 如果设置该属性，则视频将循环播放。<br><span class='prop'>preload</span>   规定是否在页面加载后载入视频，如果设置了 autoplay 属性，则忽略该属性。<br><span class='prop'>muted</span>     规定视频的音频输出应该被静音，在高版本浏览器中，静音可以保证视频自动播放。<br><span class='prop'>controls</span>  规定浏览器应该为视频提供播放控件包括：播放 暂停 定位 音量 全屏切换 字幕等。</p>
<p><strong>preload属性的取值有三种情况</strong></p>
<p><code>auto</code> - 当页面加载后载入整个视频<br><code>meta</code> - 当页面加载后只载入元数据<br><code>none</code> - 当页面加载后不载入视频</p>
<p><strong>Video元素支持三种视频格式</strong></p>
<p><code>Ogg</code> = 带有 Theora 视频编码和 Vorbis 音频编码的 Ogg 文件<br><code>WebM</code> = 带有 VP8 视频编码和 Vorbis 音频编码的 WebM 文件<br><code>MPEG4</code> = 带有 H.264 视频编码和 AAC 音频编码的 MPEG 4 文件</p>
<div class='tip'>Internet Explorer 8 不支持 video 元素</div>

<h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><p>video标签的使用方式相对简单，只需要在页面中指定位置插入video标签并设置必要的属性即可，下面给出一个简短的代码示例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">muted</span> <span class="attr">src</span>=<span class="string">&quot;src/僵小鱼.mp4&quot;</span> <span class="attr">autoplay</span>=<span class="string">&quot;autoplay&quot;</span> <span class="attr">width</span>=<span class="string">&quot;600&quot;</span>  <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span>&gt;</span> </span><br><span class="line">    您当前的浏览器不支持该控件，请升级浏览器！</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>说明</strong> 上面的代码会在页面中插入一个宽度为600的视频控件，<code>src属性</code>控制的是播放视频的资源路径，<code>autoplay</code>表示设置自动播放，<code>controls</code>表示为标签提供对用的播放控件，<code>muted属性</code>表示设置让视频静音（自动播放必须设置该属性）。</p>
<p><strong>source 元素说明</strong></p>
<p>video 元素允许多个 <code>source</code> 元素，source 元素可以链接不同的视频文件，浏览器将使用第一个可识别格式的文件，下面给出简短的代码示例。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">width</span>=<span class="string">&quot;320&quot;</span> <span class="attr">height</span>=<span class="string">&quot;240&quot;</span> <span class="attr">controls</span>=<span class="string">&quot;controls&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;movie.ogg&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/ogg&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">&quot;movie.mp4&quot;</span> <span class="attr">type</span>=<span class="string">&quot;video/mp4&quot;</span>&gt;</span></span><br><span class="line">          您的浏览器不支持当前控件！</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure>


<h3 id="属性、方法和事件"><a href="#属性、方法和事件" class="headerlink" title="属性、方法和事件"></a>属性、方法和事件</h3><p><span style='color:#195'>video元素同样拥有属性、方法和事件</span>。</p>
<p>video元素的方法包括<code>播放play()</code>、<code>暂停pause()</code>、<code>加载load()</code></p>
<p>video元素的属性包括<code>是否静音（muted）</code>、<code>是否自动播放（autoPlay）</code>等，可以被读取或设置。</p>
<p>video元素相关的DOM 事件还能够帮我们监听视频<code>音量改变（volumechange）</code>、<code>播放结束（ended）</code>等。</p>
<p>下面给出一个简短的代码示例，通过按钮可以来控制视频的播放、暂停和放大缩小。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">src</span>=<span class="string">&quot;src/僵小鱼.mp4&quot;</span> <span class="attr">width</span>=<span class="string">&quot;600px&quot;</span> <span class="attr">id</span>=<span class="string">&quot;my_video&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;control-video&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;play_pause&quot;</span>&gt;</span>播放<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;make_big&quot;</span>&gt;</span>放大<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;make_small&quot;</span>&gt;</span>缩小<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> media = <span class="built_in">document</span>.getElementById(<span class="string">&quot;my_video&quot;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> playPauseBtn = <span class="built_in">document</span>.getElementById(<span class="string">&quot;play_pause&quot;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> makeBigBtn = <span class="built_in">document</span>.getElementById(<span class="string">&quot;make_big&quot;</span>);</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> makeSmallBtn = <span class="built_in">document</span>.getElementById(<span class="string">&quot;make_small&quot;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    playPauseBtn.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (media.paused)</span></span><br><span class="line"><span class="javascript">        &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.innerHTML = <span class="string">&quot;暂停&quot;</span>;</span></span><br><span class="line"><span class="javascript">            media.play();</span></span><br><span class="line"><span class="javascript">        &#125;<span class="keyword">else</span></span></span><br><span class="line"><span class="javascript">        &#123;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">this</span>.innerHTML = <span class="string">&quot;播放&quot;</span>;</span></span><br><span class="line"><span class="javascript">            media.pause();</span></span><br><span class="line"><span class="javascript">        &#125;</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript">    makeBigBtn.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        media.width += <span class="number">50</span>;</span></span><br><span class="line"><span class="javascript">    &#125;;</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    makeSmallBtn.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        media.width -= <span class="number">50</span>;</span></span><br><span class="line"><span class="javascript">    &#125;</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>video元素的属性列表</strong></p>
<p><span class='propT'>readyState</span>           当前状态<br><span class='propT'>paused</span>               是否暂停<br><span class='propT'>controls</span>             是否有默认控制条<br><span class='propT'>currentSrc </span>          当前资源的URL路径<br><span class='propT'>src</span>                  设置或返回资源的URL<br><span class='propT'>startTime</span>            开始时间，通常为0<br><span class='propT'>volume</span>               音量,可以设置（<code>0~1</code>）<br><span class='propT'>ended </span>               是否结束，布尔类型值<br><span class='propT'>autoPlay</span>             是否自动播放，布尔类型值<br><span class='propT'>loop</span>                 是否循环播放，布尔类型值<br><span class='propT'>muted </span>               是否静音，布尔类型值，可以设置<br><span class='propT'>error</span>                错误信息，<code>null表示正常</code><br><span class='propT'>buffered</span>             返回已缓冲区域，TimeRanges<br><span class='propT'>seeking </span>             是否正在seeking（查找）<br><span class='propT'>currentTime</span>          当前播放的位置，可以设置修改<br><span class='propT'>duration</span>             当前资源长度，流则返回无限<br><span class='propT'>played </span>              返回已经播放的区域，TimeRanges<br><span class='propT'>seekable</span>             返回可以seek的区域 TimeRanges<br><span class='propT'>defaultPlaybackRate</span>  默认的回放速度，可以设置<br><span class='propT'>playbackRate </span>        当前播放速度(比如可以设置为1.5倍速度)，可以设置<br><span class='propT'>error.code </span>          错误信息，具体的代码 <code>1-用户终止 2-网络错误 3-解码错误 4-URL无效</code><br><span class='propT'>preload </span>             是否预载资源  取值情况有 none：不预载 metadata：预载资源<br><span class='propT'>networkState</span>         当前网络状态，结果为数值 <code>0-未初始化 1-未使用网络 2-正下载 3-没找到资源</code><br><span class='propT'>TimeRanges</span>           区域对象<br><span class='propT'>TimeRanges.length</span>   区域段数<br><span class='propT'>TimeRanges.start(index)</span>  第index段区域的开始位置<br><span class='propT'>TimeRanges.end(index)</span>    第index段区域的结束位置</p>
<p><strong>video元素的方法列表</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">media.play();                播放视频</span><br><span class="line">media.pause();               暂停视频</span><br><span class="line">media.load();                重新加载src指定的资源</span><br><span class="line">media.canPlayType(type);     是否能播放某种格式的资源</span><br></pre></td></tr></table></figure>
<p><strong>说明</strong>：<code>media</code>为获取到的页面中的video标签</p>
<p><strong>video元素相关的事件</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">var eventTester = function(e)&#123;</span><br><span class="line">    Media.addEventListener(e,function()&#123;//.....&#125;,false);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">eventTester(&quot;loadstart&quot;);       客户端开始请求数据</span><br><span class="line">eventTester(&quot;progress&quot;);        客户端正在请求数据</span><br><span class="line">eventTester(&quot;suspend&quot;);         延迟下载</span><br><span class="line">eventTester(&quot;abort&quot;);           客户端主动终止下载（不是因为错误引起）</span><br><span class="line">eventTester(&quot;loadstart&quot;);       客户端开始请求数据</span><br><span class="line">eventTester(&quot;progress&quot;);        客户端正在请求数据</span><br><span class="line">eventTester(&quot;suspend&quot;);         延迟下载</span><br><span class="line">eventTester(&quot;abort&quot;);           客户端主动终止下载（不是因为错误引起），</span><br><span class="line">eventTester(&quot;error&quot;);           请求数据时遇到错误</span><br><span class="line">eventTester(&quot;stalled&quot;);         网速失速</span><br><span class="line">eventTester(&quot;play&quot;);            play()和autoplay开始播放时触发</span><br><span class="line">eventTester(&quot;pause&quot;);           pause()触发</span><br><span class="line">eventTester(&quot;loadedmetadata&quot;);  成功获取资源长度</span><br><span class="line">eventTester(&quot;loadeddata&quot;);      成功获取数据信息</span><br><span class="line">eventTester(&quot;waiting&quot;);         等待数据，并非错误</span><br><span class="line">eventTester(&quot;playing&quot;);         开始回放</span><br><span class="line">eventTester(&quot;canplay&quot;);         可以播放，但中途可能因为加载而暂停</span><br><span class="line">eventTester(&quot;canplaythrough&quot;);  可以播放，歌曲全部加载完毕</span><br><span class="line">eventTester(&quot;seeking&quot;);         寻找中</span><br><span class="line">eventTester(&quot;seeked&quot;);          寻找完毕</span><br><span class="line">eventTester(&quot;timeupdate&quot;);      播放时间改变</span><br><span class="line">eventTester(&quot;ended&quot;);           播放结束</span><br><span class="line">eventTester(&quot;ratechange&quot;);      播放速率改变</span><br><span class="line">eventTester(&quot;durationchange&quot;);  资源长度改变</span><br><span class="line">eventTester(&quot;volumechange&quot;);    音量改变</span><br></pre></td></tr></table></figure>

<img src='../../../../z.png' width="200px">

<hr>
<ul>
<li>Posted by 博客园·<a target="_blank" rel="noopener" href="http://www.cnblogs.com/wendingding/">文顶顶</a> | <a target="_blank" rel="noopener" href="http://wendingding.com/">花田半亩</a></li>
<li>联系作者 简书·<a target="_blank" rel="noopener" href="http://www.jianshu.com/users/c5703017b9f5/latest_articleshttp://www.jianshu.com/users/c5703017b9f5/latest_articles">文顶顶</a> 新浪微博·<a href="http://weibo.com/p/1005053800117445/home?from=page_100505&mod=TAB#place">Coder_文顶顶</a></li>
<li>原创文章，版权声明：自由转载-非商用-非衍生-保持署名 | <a target="_blank" rel="noopener" href="http://www.cnblogs.com/wendingding/">文顶顶</a></li>
</ul>
</div></article></div></main><footer><div class="paginator"><a href="/2016/01/01/javaScript%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%B3%BB%E5%88%97%20%5B01%5D/" class="prev">上一篇</a></div><div class="copyright"><p>© 2015 - 2022 <a href="https://weibo.com/u/3800117445">文顶顶</a> &nbsp;☁ 全站字数统计 420.5k (字)</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>